/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{var e={756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(667),c=n.n(a),l=new URL(n(844),n.b),u=new URL(n(918),n.b),h=new URL(n(803),n.b),d=s()(i()),p=c()(l),f=c()(u),g=c()(h);d.push([e.id,`* {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  \n  body,\n  html {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #f6f6f6;\n  }\n  \n  body {\n    font-family: 'Roboto', sans-serif;\n    font-size: 12px;\n  }\n\n  .home {\n    position: relative;\n    text-align: center;\n    width: 100%;\n    height: 300px;\n  \n  }\n  .home-img{\n      width: 100%;\n      height: 300px;\n      object-fit: cover;\n  }\n  .home-inner {\n    position: absolute;\n    width: 85%;\n    top: 65%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: white;\n    font-weight: bold;\n    text-align: center;\n  }\n  \n  \n  .home-title {\n    font-size: 18px;\n    font-weight: bold;\n  }\n  \n  .home-ket {\n    \n    margin-top: 5px;\n    font-size: 12px;\n    font-weight: lighter;\n    \n  }\n\n  .nav {\n    width: 40%;\n    margin-top: 60px;\n    text-align: center;\n    z-index: 1;\n  }\n\n  .nav-list {\n    padding: 0;\n    margin: 0;\n  }\n  \n  .nav-item {\n    display: block;\n    font-size: 14px;\n    padding: 0;\n    width: 100%;\n    border-bottom: 1px solid #414141;\n  \n  }\n\n  .nav-logout{\n    font-size: 14px;\n    padding: 10px;\n    width: 70px;\n    color: #fff;\n    border-radius: 5px;\n    border: 1px solid #fff;\n    text-decoration: none;\n    cursor: pointer;\n    background-color: rgba(215, 39, 12, 0);\n  }\n\n  .nav-logout:hover{\n    background-color: #db7f49;\n  }\n  \n  \n  .nav a {\n    display: block;\n    text-decoration: none;\n    color: #ffffff;\n    padding: 20px 20px;\n  }\n\n  body.like nav a.like{\n    color: #3E3E3E;\n  }\n  \n  .nav a:hover {\n    text-decoration: underline;\n  }\n\n  .head-menu{\n    font-size: 32px;\n    display: block;\n    cursor: pointer;\n    min-width: 20px;\n    padding-right: 8px;\n    padding-left: 8px;\n    border: none;\n    background: none;\n    color: #ffff;\n  }\n  \n  .heading {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    height: 60px;\n    top: 0;\n    position: relative;\n    z-index: 1;\n    background-color: #CE5A18;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.038);\n}\n    .head-title{\n    font-weight: bold;\n    font-size: 24px;\n    color: #ffff;\n    margin: 15px;\n    }\n\n    .culture-list{\n        display: grid;\n        grid-template-columns: 1fr;\n        gap: 16px;\n        margin: 32px 0;\n      }\n       \n\n\n    .culture-card {\n        width: 100%;\n        margin-top: 10px;\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\n        border-radius: 5px;\n        overflow: hidden;\n        background-color: #ffffff;\n      }\n\n      .culture-descript {\n        text-align: left;\n        padding: 0 12px 12px 12px;\n      }\n       \n      /* .culture-descript h3 {\n        padding: 12px 0 0 0;\n    \n      } */\n       \n      .culture-descript h2  {\n        color: #CE5A18;\n        padding: 6px 0;\n        font-size: 18px;\n        display: inline-block;\n        /* min-width: 44px;\n        min-height: 44px; */\n        text-decoration: none;\n        \n      }\n       \n      .culture-descript p {\n        color: #3E3E3E;\n        font-weight: lighter;\n        font-size: 13px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 4;\n        -webkit-box-orient: vertical;\n      }\n\n      .culture-descript a{\n        text-decoration: none;\n      }\n\n      .culture-item {\n        position: relative;\n      }\n      .culture-card img {\n        width: 100%;\n        max-height: 175px;\n        overflow: hidden;\n        object-fit: cover;\n      }\n\n      .menu-label {\n        max-width: 85%;\n        margin: 80px auto;\n        text-align: center;\n      }\n\n      .skip {\n        position: absolute;\n        top: -45px;\n        left: 0;\n        background-color: #ffffff;\n        color: #FF8C32;\n        padding: 12px;\n        z-index: 10;\n        font-size: 16px;\n        text-decoration: none;\n      }\n       \n      .skip:focus {\n         top: 0;\n      }\n\n      .label-title {\n        font-size: 20px;\n        font-weight: bold;\n        color: #CE5A18;\n      \n      }\n      \n      .label-title::after {\n        content: '';\n        margin-top: 16px;\n        display: block;\n      }\n\n      .search{\n        background-color: #ffffff;\n        padding: 20px;\n        border-radius: 10px;\n        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\n        width: 90%;\n        position: absolute;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n        \n      }\n\n      .search form{\n        display: flex;\n        justify-content: space-between;\n        \n      }\n\n      .search p{\n        font-size: 12px;\n        text-align: left;\n        margin-bottom: 5px;\n        color: #3E3E3E;\n        font-weight: lighter;\n      }\n\n      .search input{\n        padding: 11px 5px 11px 35px;\n        width: 100%;\n        border-radius: 5px;\n        background-image: url(${p});\n        background-repeat: no-repeat;\n        background-position: left;\n        background-size: 18px;\n        background-position: 10px;\n        border: 1px solid #929292;\n      }\n\n      .search button{\n        padding: 6px 12px 6px 12px;\n        margin-left: 5px;\n        background-color: #CE5A18;\n        border: 1px solid #929292;\n        border-radius: 5px;\n        color: #f6f6f6;\n      }\n\n      .nothing{\n        text-align: center;\n        place-items: center;\n        font-size: 14px;\n        color: #3E3E3E;\n      }\n\n      footer{\n        margin-top: 30px;\n        text-align: center;\n        background-color: #CE5A18;\n        padding: 30px;\n        color: #ffffff;\n      }\n\n      footer h2{\n        font-size: 18px;\n        margin-bottom: 5px;\n      }\n\n      footer p{\n        font-weight: lighter;\n        font-size: 12px;\n      }\n\n   \n    .weather {\n      position: absolute;\n      top: 30%;\n      left: 73%;\n      transform: translate(-50%, -50%);\n      color: #fff;\n      padding: 10px;\n      text-align: center;\n      background-color: #00000043;\n      border-radius: 10px;\n    }\n    \n    .weather-title {\n      font-size: 16px;\n    }\n    \n    .weather-info {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin-top: 15px;\n    }\n    \n    .weather-icon img {\n      width: 60px; \n      height: 60px;\n      margin-right: 10px;\n    }\n    \n    .weather-details p {\n      margin: 0;\n    }\n    \n    .temperature {\n      font-weight: bold;\n      font-size: 25px;\n      padding-bottom: 5px;\n    }\n    \n    .description {\n      text-transform: capitalize;\n      font-size: 12px;\n    }\n    \n    .error-message {\n      color: #ff0000;\n    }\n\n    .detail-culture {\n      max-width: 800px;\n      padding: 32px;\n      margin: 0 auto;\n      display: grid;\n      grid-template-columns: 1fr;\n      gap: 18px 6px;\n    }\n     \n    .detai-title{\n      font-size: 20px;\n      font-weight: 600;\n      margin-bottom: 10px;\n      color: #CE5A18;\n    }\n  \n    .detail-head img {\n      width: 100%;\n      border-radius: 5px;\n    }\n  \n    .detail-info{\n      margin-top: 30px;\n    }\n  \n    .detail-info h4{\n      margin-bottom :2px ;\n      font-weight: 550;\n      font-size: 14px;\n      color: #3E3E3E;\n    }\n    .detail-info p{\n      margin-bottom: 8px;\n      font-weight: lighter;\n    }\n  \n    .detail-desc h4{\n      margin-bottom :2px ;\n      font-weight: 550;\n      font-size: 14px;\n      color: #3E3E3E;\n    }\n    .detail-desc p{\n      margin-bottom: 8px;\n      font-weight: lighter;\n    }\n  \n    .detail-desc .location{\n      margin-top: 20px;\n    }\n    \n    .detail-menu{\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      list-style:circle;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n      border-radius: 5px;\n      padding: 20px 20px;\n    }\n\n    #map {\n      margin-top: 10px;\n      width: 100%;\n      height: 300px;\n      border-radius: 10px;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    }\n\n  /* REVIEW */\n\n    .review-head h2{\n      padding: 20px;\n      text-align: center;\n      font-size: 20px;\n      color: #CE5A18;\n    }\n    .review{\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n      margin: 10px 0;\n      padding: 10px 10px;\n      border-radius: 5px;\n    }\n    .review h3{\n      font-weight: 500;\n      font-size: 14px;\n      color: #2a2a2a;\n    }\n    .review p{\n      font-size: 10px;\n      font-weight: 200;\n      margin-top: 2px;\n    }\n    .review h4{\n      font-weight: 350;\n      margin-top: 5px ;\n      font-size: 12px;\n    }\n\n    \n  \n    #reviewForm {\n      text-align: center;\n      max-width: 80%;\n      padding: 20px;\n      margin: 0 auto;\n    }\n\n    .review-form{\n      background-color: #fff;\n      border: 1px solid #ddd;\n      border-radius: 8px;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    }\n    \n    #reviewForm h2 {\n      font-size: 20px;\n      color: #CE5A18;\n    }\n    \n    #reviewForm form {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n    #reviewImage {\n      display: none;\n    }\n  \n    .custom-file-input {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px;\n      margin: 5px 0;\n      border: 1px solid #ccc;\n      color: #3E3E3E;\n      border-radius: 5px;\n      background-color: #ffffff;\n      font-size: 16px;\n      cursor: pointer;\n    }\n\n    .custom-file-input:hover{\n      background-color: #dddddd;\n    }\n    \n    .custom-file-input img{\n      width: 20px;\n      height: auto;\n      margin-right: 5px;\n\n    }\n    #uploadedImage {\n      max-width: 100%;\n      height: auto;\n      margin: 10px 0;\n      display: none;\n    }\n    #reviewForm input[type="text"],\n    #reviewForm textarea {\n      width: 100%;\n      padding: 12px;\n      margin: 5px 0;\n      border: 1px solid #ccc;\n      background-color: #f2f2f2;\n      border-radius: 5px;\n      font-size: 16px;\n      font-family: Arial, Helvetica, sans-serif;\n    }\n    \n    #reviewForm textarea {\n      resize: vertical;\n      min-height: 100px;\n    }\n    \n    #reviewForm button {\n      background-color: #CE5A18;\n      color: #fff;\n      border: none;\n      margin-top: 10px;\n      border-radius: 5px;\n      padding: 13px 20px;\n      font-size: 16px;\n      cursor: pointer;\n    }\n    \n    #reviewForm button:hover {\n      background-color: #d87c47;\n    }\n    \n#reviews-section {\n  margin-top: 20px;\n  padding: 20px;\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 20px;\n}\n\n#reviews-section h2{\n  color: #CE5A18;\n  font-size: 20px;\n}\n#reviews-list {\n  list-style: none;\n  padding: 0;\n}\n\n#reviews-list li {\n  padding: 15px;\n  margin-bottom: 10px;\n  background-color: #fff;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n#reviews-list li p {\npadding-left: 17px;\nfont-size: 12px;\nfont-weight: lighter;\n}\n\n#reviews-list li h3 {\n  padding-left: 17px;\n  font-size: 16px;\n  color: #CE5A18;\n  margin-bottom: 5px;\n  }\n\n#reviews-list img {\n  max-width: 100%;\n  height: auto;\n  border-radius: 4px;\n  padding: 20px;\n\n}\n\n\n/*LANDING*/\n\n    .landing-head {\n      display: flex;\n      justify-content: space-between;\n      width: 100%;\n      height: 0;\n      top: 0;\n      position: relative;\n      z-index: 1;\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.038);\n  }\n  \n  .web-name {\n      font-size: 20px;\n      color: #fff;\n      margin: 20px;\n  }\n  \n  .signin-button {\n      margin: 20px; \n      height: 44px;\n      font-size: 14px;\n      width: 75px;\n      color: #fff;\n      border-radius: 5px;\n      border: 1px solid #fff;\n      text-decoration: none;\n      cursor: pointer;\n      background-color: rgba(215, 39, 12, 0);\n  }\n  \n  .signin-button:hover {\n    background-color: #9f9f9f6a;\n    cursor: pointer;\n  }\n  \n  \n  .hero {\n      height: 210px;\n  }\n\n  .hero-desc{\n    display: none;\n  }\n  \n  .hero-image {\n      width: 100%;\n      padding-top: -20px;\n      display: block;\n  }\n  \n  .hero-bold {\n      margin-top: -43%;\n      font-size: 16px;\n      color: #fff;\n      font-weight: 400;\n      padding-left: 40px;\n  }\n  \n  .benefits {\n      text-align: center;\n      background-color: #fff;\n      border-radius: 10px;\n      margin: -60px 30px 0 30px;\n      padding: 20px 25px;\n      position: relative;\n      z-index: 5;\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.3);\n  }\n  \n  .title {\n      text-align: center;\n      font-size: 16px;\n      color: #CE5A18;\n      font-weight: 600;\n      margin-bottom: 10px;\n  }\n  \n  .benefits-text {\n      font-size: 11px;\n      font-weight: lighter;\n      margin-bottom: 20px;\n  }\n  \n  .benefits-icon {\n      width: 50px;\n      margin-top: 10px;\n  }\n  \n  .benefits-item {\n      font-size: 14px;\n      font-weight: 600;\n  }\n  \n  .benefits-desc {\n      font-size: 11px;\n      padding: 0 12px 15px 12px;\n  }\n  \n  .summary {\n      height: 350px;\n      padding: 40px 35px;\n  }\n  \n  .summary-img {\n      margin: 7px 0;\n      width: 100%;\n  }\n  \n  .summary-desc {\n      margin-top: 10px;\n      text-align: justify;\n      font-size: 11px;\n  }\n  \n  .about {\n      height: 340px;\n      text-align: center;\n      margin: 50px auto;\n      max-width: 85%;\n      padding: 20px 15px;\n      background-color: #fff;\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.3);\n      border-radius: 10px;\n  }\n  \n  .about-img {\n      width: 92%;\n      border-radius: 2px;\n      margin: -70px;\n  }\n  \n  .about-title {\n      text-align: center;\n      font-size: 16px;\n      color: #CE5A18;\n      font-weight: 600;\n      margin-top: 80px;\n  }\n  \n  .about-desc {\n      text-align: justify;\n      font-size: 11px;\n      padding: 0 12px;\n      margin-top: 10px;\n  }\n\n  .signin {\n    margin: 0;\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 70px;\n    background-color: #f4f4f4; \n  }\n  \n  .container {\n    display: flex;\n    border-radius: 20px;\n    width: 85%;\n    height: 500px;\n    background-color: #fff;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add box shadow for card-like appearance */\n  }\n  \n  .signin-image {\n    flex: 1;\n    background-image: url(${f});\n    background-position: center;\n    border-radius: 20px 0 0 20px;\n    height: 100%;\n  }\n  \n  .signin-header {\n    margin: 24px;\n    text-align: center;\n  }\n\n  .signin-header h1{\n    font-size: 25px;\n    color: #CE5A18;\n  }\n  .signin-header p{\n    color: #3E3E3E;\n  }\n  \n  .form {\n    flex: 1;\n    padding: 20px;\n  }\n  \n  #signin-form {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .signin-btn {\n    background-color: #ce5a18;\n    border-radius: 5px;\n    border: 1.5px solid #fff;\n    margin-top: 10px;\n    padding: 0 15px 0 15px;\n    color: #fff;\n    height: 44px;\n  }\n  \n  .signin-btn:hover {\n    background-color: white;\n    color: black;\n    cursor: pointer;\n    border: 1px solid gray;\n  }\n\n  .akun{\n    text-align: center;\n    margin: 20px;\n    font-size: 12px;\n    color: #3E3E3E;\n  }\n\n  .akun a{\n    text-decoration: none;\n    color: #CE5A18;\n  }\n  \n  \n  \n  \n  \n  .register {\n    margin: 0;\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-top: 70px;\n    background-color: #f4f4f4; /* Add a background color for the body */\n  }\n  \n  .register-image {\n    flex: 1;\n    background-image: url(${g});\n    background-position: center;\n    border-radius: 20px 0 0 20px;\n    height: 100%;\n  }\n  \n  .register-header {\n    margin-top: 40px;\n    margin-bottom: 20px;\n    text-align: center;\n  }\n  \n  .form {\n    flex: 1;\n    padding: 20px;\n  }\n  \n  #register-form {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .register-button {\n    background-color: #ce5a18;\n    border-radius: 5px;\n    border: 1.5px solid #fff;\n    margin-top: 10px;\n    padding: 0 15px 0 15px;\n    color: #fff;\n    font-size: 12px;\n    height: 44px;\n  }\n  \n  .register-button:hover {\n    background-color: white;\n    color: black;\n    cursor: pointer;\n    border: 1px solid gray;\n  }\n  \n  .form {\n    flex: 1;\n    padding: 20px;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n  }\n  \n  .input-container {\n    position: relative;\n    margin-bottom: 10px;\n  }\n  \n  .input-container input {\n    padding: 17px;\n    width: 300px;\n    box-sizing: border-box;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    font-size: 14px;\n    outline: none;\n    margin-top: 5px;\n    transition: border-color 0.3s;\n  }\n  \n  .input-container label {\n    position: absolute;\n    margin-top: 20px;\n    left: 10px;\n    font-size: 14px;\n    color: #939393;\n    font-weight: lighter;\n    pointer-events: none;\n    transition: top 0.3s, font-size 0.3s;\n  }\n  \n  input:focus + label,\n  input:valid + label {\n    top: -10px;\n  font-size: 12px;\n    color: #ce5a18;\n  }\n  \n    \n\n  \n  @media screen and (min-width: 321px) and (max-width: 375px){\n    .hero-bold {\n        margin-top: -155px;\n    }\n    .benefits {\n        margin-top: -40px;\n    }\n}\n\n  @media screen and (max-width: 499px) {\n  \n    .register-image{\n      display: none;\n    }\n    .signin-image{\n      display: none;\n    }\n    .nav {\n      z-index: 15;\n      background-color: #00000095;\n      width: 100%;\n      position: absolute;\n      -webkit-transform: translate(-500px, 0);\n      transform: translate(-500px, 0);\n      transition: transform 0.3s ease;\n\n    }\n  \n    .open {\n      -webkit-transform: translate(0, 0);\n      transform: translate(0,0);\n    }\n  \n    .nav-item {\n      text-align: left;\n    }\n  \n    main{\n      width: 100%;\n    }\n  }\n\n  @media screen and (min-width: 499px) {\n\n    .register-image{\n      display: none;\n    }\n    .signin-image{\n      display: none;\n    }\n\n  .head-menu{\n    display: none;\n  }\n  \n  .nav{\n    width: 50%;\n    margin-top: 10px;\n  }\n\n  .nav-list{\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    font-size: 18px;\n  }\n  .nav-logout{\n    margin-top: -10px;\n  }\n\n\n\n  .nav a{\n    color: #ffffff;\n    padding: 13px 0 13px 0;\n  }\n\n  .nav li {\n    list-style: none;\n    }\n\n  .nav-item{\n    border: none;\n  }\n  \n\n  .culture-list{\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-row-gap: 16px;\n  }\n\n  .home {\n    width: 100%;\n    height: 450px;\n  \n  }\n  .home-img{\n      width: 100%;\n      height: 450px;\n  }\n  \n  .home-inner {\n    top: 75%;\n  }\n  \n  .home-title {\n    color: #ffffff;\n    font-weight: bold;\n    font-size: 20px;\n    letter-spacing: 1px;\n  }\n  \n  .home-ket {\n    color: #ffffff;\n    margin-top: 7px;\n    font-size: 14px;\n    font-weight:lighter;\n  }\n\n  .benefits {\n    max-width: 80%;\n    margin: 0 auto;\n    margin-top: -20px;\n}\n.summary {\n    max-width: 95%;\n    margin: 0 auto;\n}\n.about {\n    max-width: 80%;\n    margin-top: 35px;\n}\n.weather{\n  padding: 20px;\n  left: 80%;\n}\n\n.weather-title {\n  font-size: 18px;\n}\n\n.description{\n  font-size: 12px;\n}\n \n\n}\n\n@media screen and (min-width: 500px) {\n  \n  .hero-desc{\n    display: block;\n    padding-left: 40px;\n    margin-top: 5px;\n    color: #fff ;\n    font-weight: lighter;\n  }\n  .summary {\n      height: 400px;\n      max-width: 92%;\n      margin: 0 auto;\n  }\n  .about {\n      max-width: 90%;\n      height: 400px;\n  }\n\n  .benefits {\n    max-width: 80%;\n    margin: 0 auto;\n    margin-top: 50px;\n    text-align: left;\n}\n.summary {\n    height: 400px;\n    max-width: 92%;\n    margin-top: 50px;\n}\n.about {\n    max-width: 90%;\n    height: 400px;\n}\n.benefits-items {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-column-gap: 16px;\n}\n.title {\n    font-size: 20px;\n    text-align: left;\n}\n.benefits-text {\n    font-size: 12px;\n}\n.benefits-icon {\n    width: 40px;\n    height: auto;\n}\n.benefits-item {\n  margin-top: 5px;\n    font-size: 12px;\n}\n.benefits-desc {\n  margin-top: 5px;\n    font-size: 11px;\n    padding-left: 0;\n}\n\n#summary-title{\n  text-align: center;\n}\n\n  \n}\n \n\n@media screen and (min-width: 600px) {\n\n      .register-image{\n      display: block;\n    }\n    .signin-image{\n      display: block;\n    }\n  .nav{\n    width: 50%;\n  }\n  \n\n  .culture-list{\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 14px;\n    grid-row-gap: 16px;\n  }\n\n  .home-title {\n    font-size: 24px;\n  }\n  \n  .home-ket {\n    font-size: 14px;\n  }\n\n  .about{\n    margin-top: 50px;\n  }\n  \n \n}\n\n@media screen and (min-width: 630px) {\n  .about {\n      height: 450px;\n  }\n  .about-desc{\n    font-size: 14px;\n  }\n\n  .benefits {\n    max-width: 85%;\n    margin-top: 100px;\n}\n\n.hero-bold {\n  padding: 0 80px;\n  font-size: 28px;\n}\n\n.hero-desc {\n  color: #fff;\n  padding: 5px 80px;\n  font-size: 13px;\n}\n\n.summary-desc {\n  font-size: 14px;\n}\n.web-name {\n  font-size: 32px;\n}\n}\n\n@media screen and (min-width: 700px) {\n  .culture-list{\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 14px;\n    grid-row-gap: 16px;\n  }\n\n  .home-inner{\n    top: 75%;\n  }\n\n  .home-title {\n    font-size: 28px;\n  }\n  \n  .home-ket {\n    font-size: 14px;\n  }\n  .benefits {\n    margin-top: 150px;\n}\n\n  .detail{\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 30px;\n  }\n\n  .detail-desc p{\n    font-size: 14px;\n  }\n  .detail-desc h4{\n    font-size: 16px;\n  }\n\n  .detail-info h4{\n    font-size: 16px;\n  }\n  \n  .detail-info p{\n    font-size: 14px;\n  }\n  #reviews-list li p{\n    font-size: 14px;\n  }\n  .summary {\n    height: 300px;\n}\n#summary-title {\n    text-align: center;\n    margin-bottom: 8px;\n}\n.summary-items {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-column-gap: 16px;\n}\n.summary-desc {\n    font-size: 14px;\n}\n\n.about {\n  height: 250px;\n  padding: 30px 30px;\n}\n.about-items {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n}\n.about-img {\n  margin: 0;\n    max-width: 300px;\n}\n.about-title {\n  margin: 0;\n  text-align: left;\n  font-size: 20px;\n  margin-bottom: 5px;\n}\n.about-desc {\n  padding-left: 0;\n\n}\n}\n\n@media screen and (min-width: 720px) {\n\n  .hero-bold {\n      font-size: 32px;\n  }\n  .hero-bold {\n      padding: 0 80px;\n  }\n  .hero-desc {\n      opacity: 100%;\n      color: #fff;\n      padding: 5px 80px;\n      font-size: 13px;\n  }\n}\n\n@media screen and (min-width: 800px) {\n  .nav{\n    width: 45%;\n  }\n  .nav-list {\n    width: 100%;\n    margin: 0 auto;\n  }\n  .home-title{\n    text-align: center;\n  }\n\n  .home {\n    height: 90%;\n  \n  }\n  .home-img{\n\n      height: 90%;\n  }\n\n  .search{\n    width: 80%;\n  }\n\n  .benefits {\n    margin-top: 200px;\n}\n  \n}\n\n@media screen and (min-width: 900px) {\n  .nav{\n    width: 40%;\n  }\n  .culture-list{\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n  }\n\n  .home-inner{\n    top: 80%;\n  }\n  .home-title {\n    font-size: 28px;\n  }\n  \n  .home-ket {\n    font-size: 14px;\n  }\n\n  .benefits {\n    margin-top: 280px;\n    padding: 30px 50px;\n}\n.benefits-desc {\n    font-size: 14px;\n}\n.summary-desc {\n    font-size: 14px;\n}\n.about{\n  max-width: 70%;\n}\n.about-img {\n    max-width: 300px;\n}\n  \n}\n\n\n\n@media screen and (min-width: 1100px) {\n  .home-inner{\n    top: 80%;\n  }\n  .home-title {\n    font-size: 32px;\n  }\n  \n  .home-ket {\n    font-size: 16px;\n  }\n\n  .hero-bold {\n    padding-left: 100px;\n    font-size: 48px;\n}\n.hero-desc {\n    padding-left: 100px;\n    font-size: 20px;\n}\n.benefits {\n  margin-top: 40%;\n  padding: 30px 50px;\n  max-width: 1000px;\n}\n\n.summary-desc{\n  margin-top: 50px;\n}\n\n.about{\n  max-width: 60%;\n}\n\n.weather {\n  padding: 25px;\n  text-align: center;\n  background-color: #3e3e3e7b;\n  border-radius: 10px;\n}\n\n.weather-title {\n  font-size: 20px;\n}\n\n.weather-info {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 15px;\n}\n\n.weather-icon img {\n  width: 70px; \n  height: 70px;\n  margin-right: 10px;\n}\n\n.weather-details p {\n  margin: 0;\n}\n\n.temperature {\n  font-weight: bold;\n  font-size: 25px;\n  padding-bottom: 5px;\n}\n\n.description {\n  text-transform: capitalize;\n  font-size: 12px;\n}\n\n\n}\n\n@media screen and (min-width: 1200px) {\n  .home-inner{\n    top: 75%;\n  }\n  .home-title {\n    font-size: 38px;\n  }\n\n  .about{\n    margin-top: 100px;\n  }\n  \n  .home-ket {\n    font-size: 18px;\n  }\n  .nav{\n    width: 35%;\n  }\n  \n}`,"",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA;IACI,UAAU;IACV,SAAS;IACT,sBAAsB;EACxB;;EAEA;;IAEE,SAAS;IACT,UAAU;IACV,WAAW;IACX,YAAY;IACZ,yBAAyB;EAC3B;;EAEA;IACE,iCAAiC;IACjC,eAAe;EACjB;;EAEA;IACE,kBAAkB;IAClB,kBAAkB;IAClB,WAAW;IACX,aAAa;;EAEf;EACA;MACI,WAAW;MACX,aAAa;MACb,iBAAiB;EACrB;EACA;IACE,kBAAkB;IAClB,UAAU;IACV,QAAQ;IACR,SAAS;IACT,gCAAgC;IAChC,YAAY;IACZ,iBAAiB;IACjB,kBAAkB;EACpB;;;EAGA;IACE,eAAe;IACf,iBAAiB;EACnB;;EAEA;;IAEE,eAAe;IACf,eAAe;IACf,oBAAoB;;EAEtB;;EAEA;IACE,UAAU;IACV,gBAAgB;IAChB,kBAAkB;IAClB,UAAU;EACZ;;EAEA;IACE,UAAU;IACV,SAAS;EACX;;EAEA;IACE,cAAc;IACd,eAAe;IACf,UAAU;IACV,WAAW;IACX,gCAAgC;;EAElC;;EAEA;IACE,eAAe;IACf,aAAa;IACb,WAAW;IACX,WAAW;IACX,kBAAkB;IAClB,sBAAsB;IACtB,qBAAqB;IACrB,eAAe;IACf,sCAAsC;EACxC;;EAEA;IACE,yBAAyB;EAC3B;;;EAGA;IACE,cAAc;IACd,qBAAqB;IACrB,cAAc;IACd,kBAAkB;EACpB;;EAEA;IACE,cAAc;EAChB;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,eAAe;IACf,cAAc;IACd,eAAe;IACf,eAAe;IACf,kBAAkB;IAClB,iBAAiB;IACjB,YAAY;IACZ,gBAAgB;IAChB,YAAY;EACd;;EAEA;IACE,aAAa;IACb,8BAA8B;IAC9B,WAAW;IACX,YAAY;IACZ,MAAM;IACN,kBAAkB;IAClB,UAAU;IACV,yBAAyB;IACzB,4CAA4C;AAChD;IACI;IACA,iBAAiB;IACjB,eAAe;IACf,YAAY;IACZ,YAAY;IACZ;;IAEA;QACI,aAAa;QACb,0BAA0B;QAC1B,SAAS;QACT,cAAc;MAChB;;;;IAIF;QACI,WAAW;QACX,gBAAgB;QAChB,0CAA0C;QAC1C,kBAAkB;QAClB,gBAAgB;QAChB,yBAAyB;MAC3B;;MAEA;QACE,gBAAgB;QAChB,yBAAyB;MAC3B;;MAEA;;;SAGG;;MAEH;QACE,cAAc;QACd,cAAc;QACd,eAAe;QACf,qBAAqB;QACrB;2BACmB;QACnB,qBAAqB;;MAEvB;;MAEA;QACE,cAAc;QACd,oBAAoB;QACpB,eAAe;QACf,gBAAgB;QAChB,uBAAuB;QACvB,oBAAoB;QACpB,qBAAqB;QACrB,4BAA4B;MAC9B;;MAEA;QACE,qBAAqB;MACvB;;MAEA;QACE,kBAAkB;MACpB;MACA;QACE,WAAW;QACX,iBAAiB;QACjB,gBAAgB;QAChB,iBAAiB;MACnB;;MAEA;QACE,cAAc;QACd,iBAAiB;QACjB,kBAAkB;MACpB;;MAEA;QACE,kBAAkB;QAClB,UAAU;QACV,OAAO;QACP,yBAAyB;QACzB,cAAc;QACd,aAAa;QACb,WAAW;QACX,eAAe;QACf,qBAAqB;MACvB;;MAEA;SACG,MAAM;MACT;;MAEA;QACE,eAAe;QACf,iBAAiB;QACjB,cAAc;;MAEhB;;MAEA;QACE,WAAW;QACX,gBAAgB;QAChB,cAAc;MAChB;;MAEA;QACE,yBAAyB;QACzB,aAAa;QACb,mBAAmB;QACnB,0CAA0C;QAC1C,UAAU;QACV,kBAAkB;QAClB,SAAS;QACT,gCAAgC;QAChC,kBAAkB;;MAEpB;;MAEA;QACE,aAAa;QACb,8BAA8B;;MAEhC;;MAEA;QACE,eAAe;QACf,gBAAgB;QAChB,kBAAkB;QAClB,cAAc;QACd,oBAAoB;MACtB;;MAEA;QACE,2BAA2B;QAC3B,WAAW;QACX,kBAAkB;QAClB,yDAAoD;QACpD,4BAA4B;QAC5B,yBAAyB;QACzB,qBAAqB;QACrB,yBAAyB;QACzB,yBAAyB;MAC3B;;MAEA;QACE,0BAA0B;QAC1B,gBAAgB;QAChB,yBAAyB;QACzB,yBAAyB;QACzB,kBAAkB;QAClB,cAAc;MAChB;;MAEA;QACE,kBAAkB;QAClB,mBAAmB;QACnB,eAAe;QACf,cAAc;MAChB;;MAEA;QACE,gBAAgB;QAChB,kBAAkB;QAClB,yBAAyB;QACzB,aAAa;QACb,cAAc;MAChB;;MAEA;QACE,eAAe;QACf,kBAAkB;MACpB;;MAEA;QACE,oBAAoB;QACpB,eAAe;MACjB;;;IAGF;MACE,kBAAkB;MAClB,QAAQ;MACR,SAAS;MACT,gCAAgC;MAChC,WAAW;MACX,aAAa;MACb,kBAAkB;MAClB,2BAA2B;MAC3B,mBAAmB;IACrB;;IAEA;MACE,eAAe;IACjB;;IAEA;MACE,aAAa;MACb,uBAAuB;MACvB,mBAAmB;MACnB,gBAAgB;IAClB;;IAEA;MACE,WAAW;MACX,YAAY;MACZ,kBAAkB;IACpB;;IAEA;MACE,SAAS;IACX;;IAEA;MACE,iBAAiB;MACjB,eAAe;MACf,mBAAmB;IACrB;;IAEA;MACE,0BAA0B;MAC1B,eAAe;IACjB;;IAEA;MACE,cAAc;IAChB;;IAEA;MACE,gBAAgB;MAChB,aAAa;MACb,cAAc;MACd,aAAa;MACb,0BAA0B;MAC1B,aAAa;IACf;;IAEA;MACE,eAAe;MACf,gBAAgB;MAChB,mBAAmB;MACnB,cAAc;IAChB;;IAEA;MACE,WAAW;MACX,kBAAkB;IACpB;;IAEA;MACE,gBAAgB;IAClB;;IAEA;MACE,mBAAmB;MACnB,gBAAgB;MAChB,eAAe;MACf,cAAc;IAChB;IACA;MACE,kBAAkB;MAClB,oBAAoB;IACtB;;IAEA;MACE,mBAAmB;MACnB,gBAAgB;MAChB,eAAe;MACf,cAAc;IAChB;IACA;MACE,kBAAkB;MAClB,oBAAoB;IACtB;;IAEA;MACE,gBAAgB;IAClB;;IAEA;MACE,aAAa;MACb,8BAA8B;MAC9B,iBAAiB;MACjB,uCAAuC;MACvC,kBAAkB;MAClB,kBAAkB;IACpB;;IAEA;MACE,gBAAgB;MAChB,WAAW;MACX,aAAa;MACb,mBAAmB;MACnB,uCAAuC;IACzC;;EAEF,WAAW;;IAET;MACE,aAAa;MACb,kBAAkB;MAClB,eAAe;MACf,cAAc;IAChB;IACA;MACE,uCAAuC;MACvC,cAAc;MACd,kBAAkB;MAClB,kBAAkB;IACpB;IACA;MACE,gBAAgB;MAChB,eAAe;MACf,cAAc;IAChB;IACA;MACE,eAAe;MACf,gBAAgB;MAChB,eAAe;IACjB;IACA;MACE,gBAAgB;MAChB,gBAAgB;MAChB,eAAe;IACjB;;;;IAIA;MACE,kBAAkB;MAClB,cAAc;MACd,aAAa;MACb,cAAc;IAChB;;IAEA;MACE,sBAAsB;MACtB,sBAAsB;MACtB,kBAAkB;MAClB,wCAAwC;IAC1C;;IAEA;MACE,eAAe;MACf,cAAc;IAChB;;IAEA;MACE,aAAa;MACb,sBAAsB;MACtB,mBAAmB;IACrB;IACA;MACE,aAAa;IACf;;IAEA;MACE,aAAa;MACb,mBAAmB;MACnB,uBAAuB;MACvB,WAAW;MACX,aAAa;MACb,aAAa;MACb,sBAAsB;MACtB,cAAc;MACd,kBAAkB;MAClB,yBAAyB;MACzB,eAAe;MACf,eAAe;IACjB;;IAEA;MACE,yBAAyB;IAC3B;;IAEA;MACE,WAAW;MACX,YAAY;MACZ,iBAAiB;;IAEnB;IACA;MACE,eAAe;MACf,YAAY;MACZ,cAAc;MACd,aAAa;IACf;IACA;;MAEE,WAAW;MACX,aAAa;MACb,aAAa;MACb,sBAAsB;MACtB,yBAAyB;MACzB,kBAAkB;MAClB,eAAe;MACf,yCAAyC;IAC3C;;IAEA;MACE,gBAAgB;MAChB,iBAAiB;IACnB;;IAEA;MACE,yBAAyB;MACzB,WAAW;MACX,YAAY;MACZ,gBAAgB;MAChB,kBAAkB;MAClB,kBAAkB;MAClB,eAAe;MACf,eAAe;IACjB;;IAEA;MACE,yBAAyB;IAC3B;;AAEJ;EACE,gBAAgB;EAChB,aAAa;EACb,aAAa;EACb,0BAA0B;EAC1B,SAAS;AACX;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;AACA;EACE,gBAAgB;EAChB,UAAU;AACZ;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,sBAAsB;EACtB,kBAAkB;EAClB,wCAAwC;AAC1C;;AAEA;AACA,kBAAkB;AAClB,eAAe;AACf,oBAAoB;AACpB;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,cAAc;EACd,kBAAkB;EAClB;;AAEF;EACE,eAAe;EACf,YAAY;EACZ,kBAAkB;EAClB,aAAa;;AAEf;;;AAGA,UAAU;;IAEN;MACE,aAAa;MACb,8BAA8B;MAC9B,WAAW;MACX,SAAS;MACT,MAAM;MACN,kBAAkB;MAClB,UAAU;MACV,4CAA4C;EAChD;;EAEA;MACI,eAAe;MACf,WAAW;MACX,YAAY;EAChB;;EAEA;MACI,YAAY;MACZ,YAAY;MACZ,eAAe;MACf,WAAW;MACX,WAAW;MACX,kBAAkB;MAClB,sBAAsB;MACtB,qBAAqB;MACrB,eAAe;MACf,sCAAsC;EAC1C;;EAEA;IACE,2BAA2B;IAC3B,eAAe;EACjB;;;EAGA;MACI,aAAa;EACjB;;EAEA;IACE,aAAa;EACf;;EAEA;MACI,WAAW;MACX,kBAAkB;MAClB,cAAc;EAClB;;EAEA;MACI,gBAAgB;MAChB,eAAe;MACf,WAAW;MACX,gBAAgB;MAChB,kBAAkB;EACtB;;EAEA;MACI,kBAAkB;MAClB,sBAAsB;MACtB,mBAAmB;MACnB,yBAAyB;MACzB,kBAAkB;MAClB,kBAAkB;MAClB,UAAU;MACV,0CAA0C;EAC9C;;EAEA;MACI,kBAAkB;MAClB,eAAe;MACf,cAAc;MACd,gBAAgB;MAChB,mBAAmB;EACvB;;EAEA;MACI,eAAe;MACf,oBAAoB;MACpB,mBAAmB;EACvB;;EAEA;MACI,WAAW;MACX,gBAAgB;EACpB;;EAEA;MACI,eAAe;MACf,gBAAgB;EACpB;;EAEA;MACI,eAAe;MACf,yBAAyB;EAC7B;;EAEA;MACI,aAAa;MACb,kBAAkB;EACtB;;EAEA;MACI,aAAa;MACb,WAAW;EACf;;EAEA;MACI,gBAAgB;MAChB,mBAAmB;MACnB,eAAe;EACnB;;EAEA;MACI,aAAa;MACb,kBAAkB;MAClB,iBAAiB;MACjB,cAAc;MACd,kBAAkB;MAClB,sBAAsB;MACtB,0CAA0C;MAC1C,mBAAmB;EACvB;;EAEA;MACI,UAAU;MACV,kBAAkB;MAClB,aAAa;EACjB;;EAEA;MACI,kBAAkB;MAClB,eAAe;MACf,cAAc;MACd,gBAAgB;MAChB,gBAAgB;EACpB;;EAEA;MACI,mBAAmB;MACnB,eAAe;MACf,eAAe;MACf,gBAAgB;EACpB;;EAEA;IACE,SAAS;IACT,UAAU;IACV,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,gBAAgB;IAChB,yBAAyB;EAC3B;;EAEA;IACE,aAAa;IACb,mBAAmB;IACnB,UAAU;IACV,aAAa;IACb,sBAAsB;IACtB,wCAAwC,EAAE,4CAA4C;EACxF;;EAEA;IACE,OAAO;IACP,yDAAqD;IACrD,2BAA2B;IAC3B,4BAA4B;IAC5B,YAAY;EACd;;EAEA;IACE,YAAY;IACZ,kBAAkB;EACpB;;EAEA;IACE,eAAe;IACf,cAAc;EAChB;EACA;IACE,cAAc;EAChB;;EAEA;IACE,OAAO;IACP,aAAa;EACf;;EAEA;IACE,aAAa;IACb,sBAAsB;EACxB;;EAEA;IACE,yBAAyB;IACzB,kBAAkB;IAClB,wBAAwB;IACxB,gBAAgB;IAChB,sBAAsB;IACtB,WAAW;IACX,YAAY;EACd;;EAEA;IACE,uBAAuB;IACvB,YAAY;IACZ,eAAe;IACf,sBAAsB;EACxB;;EAEA;IACE,kBAAkB;IAClB,YAAY;IACZ,eAAe;IACf,cAAc;EAChB;;EAEA;IACE,qBAAqB;IACrB,cAAc;EAChB;;;;;;EAMA;IACE,SAAS;IACT,UAAU;IACV,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,gBAAgB;IAChB,yBAAyB,EAAE,wCAAwC;EACrE;;EAEA;IACE,OAAO;IACP,yDAAsD;IACtD,2BAA2B;IAC3B,4BAA4B;IAC5B,YAAY;EACd;;EAEA;IACE,gBAAgB;IAChB,mBAAmB;IACnB,kBAAkB;EACpB;;EAEA;IACE,OAAO;IACP,aAAa;EACf;;EAEA;IACE,aAAa;IACb,sBAAsB;EACxB;;EAEA;IACE,yBAAyB;IACzB,kBAAkB;IAClB,wBAAwB;IACxB,gBAAgB;IAChB,sBAAsB;IACtB,WAAW;IACX,eAAe;IACf,YAAY;EACd;;EAEA;IACE,uBAAuB;IACvB,YAAY;IACZ,eAAe;IACf,sBAAsB;EACxB;;EAEA;IACE,OAAO;IACP,aAAa;IACb,sBAAsB;IACtB,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,uBAAuB;IACvB,YAAY;EACd;;EAEA;IACE,kBAAkB;IAClB,mBAAmB;EACrB;;EAEA;IACE,aAAa;IACb,YAAY;IACZ,sBAAsB;IACtB,sBAAsB;IACtB,kBAAkB;IAClB,eAAe;IACf,aAAa;IACb,eAAe;IACf,6BAA6B;EAC/B;;EAEA;IACE,kBAAkB;IAClB,gBAAgB;IAChB,UAAU;IACV,eAAe;IACf,cAAc;IACd,oBAAoB;IACpB,oBAAoB;IACpB,oCAAoC;EACtC;;EAEA;;IAEE,UAAU;EACZ,eAAe;IACb,cAAc;EAChB;;;;;EAKA;IACE;QACI,kBAAkB;IACtB;IACA;QACI,iBAAiB;IACrB;AACJ;;EAEE;;IAEE;MACE,aAAa;IACf;IACA;MACE,aAAa;IACf;IACA;MACE,WAAW;MACX,2BAA2B;MAC3B,WAAW;MACX,kBAAkB;MAClB,uCAAuC;MACvC,+BAA+B;MAC/B,+BAA+B;;IAEjC;;IAEA;MACE,kCAAkC;MAClC,yBAAyB;IAC3B;;IAEA;MACE,gBAAgB;IAClB;;IAEA;MACE,WAAW;IACb;EACF;;EAEA;;IAEE;MACE,aAAa;IACf;IACA;MACE,aAAa;IACf;;EAEF;IACE,aAAa;EACf;;EAEA;IACE,UAAU;IACV,gBAAgB;EAClB;;EAEA;IACE,WAAW;IACX,aAAa;IACb,8BAA8B;IAC9B,eAAe;EACjB;EACA;IACE,iBAAiB;EACnB;;;;EAIA;IACE,cAAc;IACd,sBAAsB;EACxB;;EAEA;IACE,gBAAgB;IAChB;;EAEF;IACE,YAAY;EACd;;;EAGA;IACE,aAAa;IACb,0BAA0B;IAC1B,kBAAkB;EACpB;;EAEA;IACE,WAAW;IACX,aAAa;;EAEf;EACA;MACI,WAAW;MACX,aAAa;EACjB;;EAEA;IACE,QAAQ;EACV;;EAEA;IACE,cAAc;IACd,iBAAiB;IACjB,eAAe;IACf,mBAAmB;EACrB;;EAEA;IACE,cAAc;IACd,eAAe;IACf,eAAe;IACf,mBAAmB;EACrB;;EAEA;IACE,cAAc;IACd,cAAc;IACd,iBAAiB;AACrB;AACA;IACI,cAAc;IACd,cAAc;AAClB;AACA;IACI,cAAc;IACd,gBAAgB;AACpB;AACA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;;AAGA;;AAEA;;EAEE;IACE,cAAc;IACd,kBAAkB;IAClB,eAAe;IACf,YAAY;IACZ,oBAAoB;EACtB;EACA;MACI,aAAa;MACb,cAAc;MACd,cAAc;EAClB;EACA;MACI,cAAc;MACd,aAAa;EACjB;;EAEA;IACE,cAAc;IACd,cAAc;IACd,gBAAgB;IAChB,gBAAgB;AACpB;AACA;IACI,aAAa;IACb,cAAc;IACd,gBAAgB;AACpB;AACA;IACI,cAAc;IACd,aAAa;AACjB;AACA;IACI,aAAa;IACb,kCAAkC;IAClC,qBAAqB;AACzB;AACA;IACI,eAAe;IACf,gBAAgB;AACpB;AACA;IACI,eAAe;AACnB;AACA;IACI,WAAW;IACX,YAAY;AAChB;AACA;EACE,eAAe;IACb,eAAe;AACnB;AACA;EACE,eAAe;IACb,eAAe;IACf,eAAe;AACnB;;AAEA;EACE,kBAAkB;AACpB;;;AAGA;;;AAGA;;MAEM;MACA,cAAc;IAChB;IACA;MACE,cAAc;IAChB;EACF;IACE,UAAU;EACZ;;;EAGA;IACE,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;IACrB,kBAAkB;EACpB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,gBAAgB;EAClB;;;AAGF;;AAEA;EACE;MACI,aAAa;EACjB;EACA;IACE,eAAe;EACjB;;EAEA;IACE,cAAc;IACd,iBAAiB;AACrB;;AAEA;EACE,eAAe;EACf,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;AACA;EACE,eAAe;AACjB;AACA;;AAEA;EACE;IACE,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;IACrB,kBAAkB;EACpB;;EAEA;IACE,QAAQ;EACV;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;EACA;IACE,iBAAiB;AACrB;;EAEE;IACE,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;EACvB;;EAEA;IACE,eAAe;EACjB;EACA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;EACA;IACE,eAAe;EACjB;EACA;IACE,aAAa;AACjB;AACA;IACI,kBAAkB;IAClB,kBAAkB;AACtB;AACA;IACI,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;AACzB;AACA;IACI,eAAe;AACnB;;AAEA;EACE,aAAa;EACb,kBAAkB;AACpB;AACA;EACE,aAAa;EACb,8BAA8B;AAChC;AACA;EACE,SAAS;IACP,gBAAgB;AACpB;AACA;EACE,SAAS;EACT,gBAAgB;EAChB,eAAe;EACf,kBAAkB;AACpB;AACA;EACE,eAAe;;AAEjB;AACA;;AAEA;;EAEE;MACI,eAAe;EACnB;EACA;MACI,eAAe;EACnB;EACA;MACI,aAAa;MACb,WAAW;MACX,iBAAiB;MACjB,eAAe;EACnB;AACF;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,WAAW;IACX,cAAc;EAChB;EACA;IACE,kBAAkB;EACpB;;EAEA;IACE,WAAW;;EAEb;EACA;;MAEI,WAAW;EACf;;EAEA;IACE,UAAU;EACZ;;EAEA;IACE,iBAAiB;AACrB;;AAEA;;AAEA;EACE;IACE,UAAU;EACZ;EACA;IACE,aAAa;IACb,kCAAkC;EACpC;;EAEA;IACE,QAAQ;EACV;EACA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,iBAAiB;IACjB,kBAAkB;AACtB;AACA;IACI,eAAe;AACnB;AACA;IACI,eAAe;AACnB;AACA;EACE,cAAc;AAChB;AACA;IACI,gBAAgB;AACpB;;AAEA;;;;AAIA;EACE;IACE,QAAQ;EACV;EACA;IACE,eAAe;EACjB;;EAEA;IACE,eAAe;EACjB;;EAEA;IACE,mBAAmB;IACnB,eAAe;AACnB;AACA;IACI,mBAAmB;IACnB,eAAe;AACnB;AACA;EACE,eAAe;EACf,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,2BAA2B;EAC3B,mBAAmB;AACrB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,iBAAiB;EACjB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,0BAA0B;EAC1B,eAAe;AACjB;;;AAGA;;AAEA;EACE;IACE,QAAQ;EACV;EACA;IACE,eAAe;EACjB;;EAEA;IACE,iBAAiB;EACnB;;EAEA;IACE,eAAe;EACjB;EACA;IACE,UAAU;EACZ;;AAEF",sourcesContent:["* {\r\n    padding: 0;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n  }\r\n  \r\n  body,\r\n  html {\r\n    margin: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: #f6f6f6;\r\n  }\r\n  \r\n  body {\r\n    font-family: 'Roboto', sans-serif;\r\n    font-size: 12px;\r\n  }\r\n\r\n  .home {\r\n    position: relative;\r\n    text-align: center;\r\n    width: 100%;\r\n    height: 300px;\r\n  \r\n  }\r\n  .home-img{\r\n      width: 100%;\r\n      height: 300px;\r\n      object-fit: cover;\r\n  }\r\n  .home-inner {\r\n    position: absolute;\r\n    width: 85%;\r\n    top: 65%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    color: white;\r\n    font-weight: bold;\r\n    text-align: center;\r\n  }\r\n  \r\n  \r\n  .home-title {\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .home-ket {\r\n    \r\n    margin-top: 5px;\r\n    font-size: 12px;\r\n    font-weight: lighter;\r\n    \r\n  }\r\n\r\n  .nav {\r\n    width: 40%;\r\n    margin-top: 60px;\r\n    text-align: center;\r\n    z-index: 1;\r\n  }\r\n\r\n  .nav-list {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n  \r\n  .nav-item {\r\n    display: block;\r\n    font-size: 14px;\r\n    padding: 0;\r\n    width: 100%;\r\n    border-bottom: 1px solid #414141;\r\n  \r\n  }\r\n\r\n  .nav-logout{\r\n    font-size: 14px;\r\n    padding: 10px;\r\n    width: 70px;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    border: 1px solid #fff;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    background-color: rgba(215, 39, 12, 0);\r\n  }\r\n\r\n  .nav-logout:hover{\r\n    background-color: #db7f49;\r\n  }\r\n  \r\n  \r\n  .nav a {\r\n    display: block;\r\n    text-decoration: none;\r\n    color: #ffffff;\r\n    padding: 20px 20px;\r\n  }\r\n\r\n  body.like nav a.like{\r\n    color: #3E3E3E;\r\n  }\r\n  \r\n  .nav a:hover {\r\n    text-decoration: underline;\r\n  }\r\n\r\n  .head-menu{\r\n    font-size: 32px;\r\n    display: block;\r\n    cursor: pointer;\r\n    min-width: 20px;\r\n    padding-right: 8px;\r\n    padding-left: 8px;\r\n    border: none;\r\n    background: none;\r\n    color: #ffff;\r\n  }\r\n  \r\n  .heading {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    height: 60px;\r\n    top: 0;\r\n    position: relative;\r\n    z-index: 1;\r\n    background-color: #CE5A18;\r\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.038);\r\n}\r\n    .head-title{\r\n    font-weight: bold;\r\n    font-size: 24px;\r\n    color: #ffff;\r\n    margin: 15px;\r\n    }\r\n\r\n    .culture-list{\r\n        display: grid;\r\n        grid-template-columns: 1fr;\r\n        gap: 16px;\r\n        margin: 32px 0;\r\n      }\r\n       \r\n\r\n\r\n    .culture-card {\r\n        width: 100%;\r\n        margin-top: 10px;\r\n        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n        border-radius: 5px;\r\n        overflow: hidden;\r\n        background-color: #ffffff;\r\n      }\r\n\r\n      .culture-descript {\r\n        text-align: left;\r\n        padding: 0 12px 12px 12px;\r\n      }\r\n       \r\n      /* .culture-descript h3 {\r\n        padding: 12px 0 0 0;\r\n    \r\n      } */\r\n       \r\n      .culture-descript h2  {\r\n        color: #CE5A18;\r\n        padding: 6px 0;\r\n        font-size: 18px;\r\n        display: inline-block;\r\n        /* min-width: 44px;\r\n        min-height: 44px; */\r\n        text-decoration: none;\r\n        \r\n      }\r\n       \r\n      .culture-descript p {\r\n        color: #3E3E3E;\r\n        font-weight: lighter;\r\n        font-size: 13px;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 4;\r\n        -webkit-box-orient: vertical;\r\n      }\r\n\r\n      .culture-descript a{\r\n        text-decoration: none;\r\n      }\r\n\r\n      .culture-item {\r\n        position: relative;\r\n      }\r\n      .culture-card img {\r\n        width: 100%;\r\n        max-height: 175px;\r\n        overflow: hidden;\r\n        object-fit: cover;\r\n      }\r\n\r\n      .menu-label {\r\n        max-width: 85%;\r\n        margin: 80px auto;\r\n        text-align: center;\r\n      }\r\n\r\n      .skip {\r\n        position: absolute;\r\n        top: -45px;\r\n        left: 0;\r\n        background-color: #ffffff;\r\n        color: #FF8C32;\r\n        padding: 12px;\r\n        z-index: 10;\r\n        font-size: 16px;\r\n        text-decoration: none;\r\n      }\r\n       \r\n      .skip:focus {\r\n         top: 0;\r\n      }\r\n\r\n      .label-title {\r\n        font-size: 20px;\r\n        font-weight: bold;\r\n        color: #CE5A18;\r\n      \r\n      }\r\n      \r\n      .label-title::after {\r\n        content: '';\r\n        margin-top: 16px;\r\n        display: block;\r\n      }\r\n\r\n      .search{\r\n        background-color: #ffffff;\r\n        padding: 20px;\r\n        border-radius: 10px;\r\n        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n        width: 90%;\r\n        position: absolute;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        text-align: center;\r\n        \r\n      }\r\n\r\n      .search form{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        \r\n      }\r\n\r\n      .search p{\r\n        font-size: 12px;\r\n        text-align: left;\r\n        margin-bottom: 5px;\r\n        color: #3E3E3E;\r\n        font-weight: lighter;\r\n      }\r\n\r\n      .search input{\r\n        padding: 11px 5px 11px 35px;\r\n        width: 100%;\r\n        border-radius: 5px;\r\n        background-image: url('../public/images/search.png');\r\n        background-repeat: no-repeat;\r\n        background-position: left;\r\n        background-size: 18px;\r\n        background-position: 10px;\r\n        border: 1px solid #929292;\r\n      }\r\n\r\n      .search button{\r\n        padding: 6px 12px 6px 12px;\r\n        margin-left: 5px;\r\n        background-color: #CE5A18;\r\n        border: 1px solid #929292;\r\n        border-radius: 5px;\r\n        color: #f6f6f6;\r\n      }\r\n\r\n      .nothing{\r\n        text-align: center;\r\n        place-items: center;\r\n        font-size: 14px;\r\n        color: #3E3E3E;\r\n      }\r\n\r\n      footer{\r\n        margin-top: 30px;\r\n        text-align: center;\r\n        background-color: #CE5A18;\r\n        padding: 30px;\r\n        color: #ffffff;\r\n      }\r\n\r\n      footer h2{\r\n        font-size: 18px;\r\n        margin-bottom: 5px;\r\n      }\r\n\r\n      footer p{\r\n        font-weight: lighter;\r\n        font-size: 12px;\r\n      }\r\n\r\n   \r\n    .weather {\r\n      position: absolute;\r\n      top: 30%;\r\n      left: 73%;\r\n      transform: translate(-50%, -50%);\r\n      color: #fff;\r\n      padding: 10px;\r\n      text-align: center;\r\n      background-color: #00000043;\r\n      border-radius: 10px;\r\n    }\r\n    \r\n    .weather-title {\r\n      font-size: 16px;\r\n    }\r\n    \r\n    .weather-info {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      margin-top: 15px;\r\n    }\r\n    \r\n    .weather-icon img {\r\n      width: 60px; \r\n      height: 60px;\r\n      margin-right: 10px;\r\n    }\r\n    \r\n    .weather-details p {\r\n      margin: 0;\r\n    }\r\n    \r\n    .temperature {\r\n      font-weight: bold;\r\n      font-size: 25px;\r\n      padding-bottom: 5px;\r\n    }\r\n    \r\n    .description {\r\n      text-transform: capitalize;\r\n      font-size: 12px;\r\n    }\r\n    \r\n    .error-message {\r\n      color: #ff0000;\r\n    }\r\n\r\n    .detail-culture {\r\n      max-width: 800px;\r\n      padding: 32px;\r\n      margin: 0 auto;\r\n      display: grid;\r\n      grid-template-columns: 1fr;\r\n      gap: 18px 6px;\r\n    }\r\n     \r\n    .detai-title{\r\n      font-size: 20px;\r\n      font-weight: 600;\r\n      margin-bottom: 10px;\r\n      color: #CE5A18;\r\n    }\r\n  \r\n    .detail-head img {\r\n      width: 100%;\r\n      border-radius: 5px;\r\n    }\r\n  \r\n    .detail-info{\r\n      margin-top: 30px;\r\n    }\r\n  \r\n    .detail-info h4{\r\n      margin-bottom :2px ;\r\n      font-weight: 550;\r\n      font-size: 14px;\r\n      color: #3E3E3E;\r\n    }\r\n    .detail-info p{\r\n      margin-bottom: 8px;\r\n      font-weight: lighter;\r\n    }\r\n  \r\n    .detail-desc h4{\r\n      margin-bottom :2px ;\r\n      font-weight: 550;\r\n      font-size: 14px;\r\n      color: #3E3E3E;\r\n    }\r\n    .detail-desc p{\r\n      margin-bottom: 8px;\r\n      font-weight: lighter;\r\n    }\r\n  \r\n    .detail-desc .location{\r\n      margin-top: 20px;\r\n    }\r\n    \r\n    .detail-menu{\r\n      display: grid;\r\n      grid-template-columns: 1fr 1fr;\r\n      list-style:circle;\r\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n      border-radius: 5px;\r\n      padding: 20px 20px;\r\n    }\r\n\r\n    #map {\r\n      margin-top: 10px;\r\n      width: 100%;\r\n      height: 300px;\r\n      border-radius: 10px;\r\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n  /* REVIEW */\r\n\r\n    .review-head h2{\r\n      padding: 20px;\r\n      text-align: center;\r\n      font-size: 20px;\r\n      color: #CE5A18;\r\n    }\r\n    .review{\r\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\r\n      margin: 10px 0;\r\n      padding: 10px 10px;\r\n      border-radius: 5px;\r\n    }\r\n    .review h3{\r\n      font-weight: 500;\r\n      font-size: 14px;\r\n      color: #2a2a2a;\r\n    }\r\n    .review p{\r\n      font-size: 10px;\r\n      font-weight: 200;\r\n      margin-top: 2px;\r\n    }\r\n    .review h4{\r\n      font-weight: 350;\r\n      margin-top: 5px ;\r\n      font-size: 12px;\r\n    }\r\n\r\n    \r\n  \r\n    #reviewForm {\r\n      text-align: center;\r\n      max-width: 80%;\r\n      padding: 20px;\r\n      margin: 0 auto;\r\n    }\r\n\r\n    .review-form{\r\n      background-color: #fff;\r\n      border: 1px solid #ddd;\r\n      border-radius: 8px;\r\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n    }\r\n    \r\n    #reviewForm h2 {\r\n      font-size: 20px;\r\n      color: #CE5A18;\r\n    }\r\n    \r\n    #reviewForm form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n    }\r\n    #reviewImage {\r\n      display: none;\r\n    }\r\n  \r\n    .custom-file-input {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 100%;\r\n      padding: 12px;\r\n      margin: 5px 0;\r\n      border: 1px solid #ccc;\r\n      color: #3E3E3E;\r\n      border-radius: 5px;\r\n      background-color: #ffffff;\r\n      font-size: 16px;\r\n      cursor: pointer;\r\n    }\r\n\r\n    .custom-file-input:hover{\r\n      background-color: #dddddd;\r\n    }\r\n    \r\n    .custom-file-input img{\r\n      width: 20px;\r\n      height: auto;\r\n      margin-right: 5px;\r\n\r\n    }\r\n    #uploadedImage {\r\n      max-width: 100%;\r\n      height: auto;\r\n      margin: 10px 0;\r\n      display: none;\r\n    }\r\n    #reviewForm input[type=\"text\"],\r\n    #reviewForm textarea {\r\n      width: 100%;\r\n      padding: 12px;\r\n      margin: 5px 0;\r\n      border: 1px solid #ccc;\r\n      background-color: #f2f2f2;\r\n      border-radius: 5px;\r\n      font-size: 16px;\r\n      font-family: Arial, Helvetica, sans-serif;\r\n    }\r\n    \r\n    #reviewForm textarea {\r\n      resize: vertical;\r\n      min-height: 100px;\r\n    }\r\n    \r\n    #reviewForm button {\r\n      background-color: #CE5A18;\r\n      color: #fff;\r\n      border: none;\r\n      margin-top: 10px;\r\n      border-radius: 5px;\r\n      padding: 13px 20px;\r\n      font-size: 16px;\r\n      cursor: pointer;\r\n    }\r\n    \r\n    #reviewForm button:hover {\r\n      background-color: #d87c47;\r\n    }\r\n    \r\n#reviews-section {\r\n  margin-top: 20px;\r\n  padding: 20px;\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 20px;\r\n}\r\n\r\n#reviews-section h2{\r\n  color: #CE5A18;\r\n  font-size: 20px;\r\n}\r\n#reviews-list {\r\n  list-style: none;\r\n  padding: 0;\r\n}\r\n\r\n#reviews-list li {\r\n  padding: 15px;\r\n  margin-bottom: 10px;\r\n  background-color: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n#reviews-list li p {\r\npadding-left: 17px;\r\nfont-size: 12px;\r\nfont-weight: lighter;\r\n}\r\n\r\n#reviews-list li h3 {\r\n  padding-left: 17px;\r\n  font-size: 16px;\r\n  color: #CE5A18;\r\n  margin-bottom: 5px;\r\n  }\r\n\r\n#reviews-list img {\r\n  max-width: 100%;\r\n  height: auto;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n\r\n}\r\n\r\n\r\n/*LANDING*/\r\n\r\n    .landing-head {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      width: 100%;\r\n      height: 0;\r\n      top: 0;\r\n      position: relative;\r\n      z-index: 1;\r\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.038);\r\n  }\r\n  \r\n  .web-name {\r\n      font-size: 20px;\r\n      color: #fff;\r\n      margin: 20px;\r\n  }\r\n  \r\n  .signin-button {\r\n      margin: 20px; \r\n      height: 44px;\r\n      font-size: 14px;\r\n      width: 75px;\r\n      color: #fff;\r\n      border-radius: 5px;\r\n      border: 1px solid #fff;\r\n      text-decoration: none;\r\n      cursor: pointer;\r\n      background-color: rgba(215, 39, 12, 0);\r\n  }\r\n  \r\n  .signin-button:hover {\r\n    background-color: #9f9f9f6a;\r\n    cursor: pointer;\r\n  }\r\n  \r\n  \r\n  .hero {\r\n      height: 210px;\r\n  }\r\n\r\n  .hero-desc{\r\n    display: none;\r\n  }\r\n  \r\n  .hero-image {\r\n      width: 100%;\r\n      padding-top: -20px;\r\n      display: block;\r\n  }\r\n  \r\n  .hero-bold {\r\n      margin-top: -43%;\r\n      font-size: 16px;\r\n      color: #fff;\r\n      font-weight: 400;\r\n      padding-left: 40px;\r\n  }\r\n  \r\n  .benefits {\r\n      text-align: center;\r\n      background-color: #fff;\r\n      border-radius: 10px;\r\n      margin: -60px 30px 0 30px;\r\n      padding: 20px 25px;\r\n      position: relative;\r\n      z-index: 5;\r\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.3);\r\n  }\r\n  \r\n  .title {\r\n      text-align: center;\r\n      font-size: 16px;\r\n      color: #CE5A18;\r\n      font-weight: 600;\r\n      margin-bottom: 10px;\r\n  }\r\n  \r\n  .benefits-text {\r\n      font-size: 11px;\r\n      font-weight: lighter;\r\n      margin-bottom: 20px;\r\n  }\r\n  \r\n  .benefits-icon {\r\n      width: 50px;\r\n      margin-top: 10px;\r\n  }\r\n  \r\n  .benefits-item {\r\n      font-size: 14px;\r\n      font-weight: 600;\r\n  }\r\n  \r\n  .benefits-desc {\r\n      font-size: 11px;\r\n      padding: 0 12px 15px 12px;\r\n  }\r\n  \r\n  .summary {\r\n      height: 350px;\r\n      padding: 40px 35px;\r\n  }\r\n  \r\n  .summary-img {\r\n      margin: 7px 0;\r\n      width: 100%;\r\n  }\r\n  \r\n  .summary-desc {\r\n      margin-top: 10px;\r\n      text-align: justify;\r\n      font-size: 11px;\r\n  }\r\n  \r\n  .about {\r\n      height: 340px;\r\n      text-align: center;\r\n      margin: 50px auto;\r\n      max-width: 85%;\r\n      padding: 20px 15px;\r\n      background-color: #fff;\r\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.3);\r\n      border-radius: 10px;\r\n  }\r\n  \r\n  .about-img {\r\n      width: 92%;\r\n      border-radius: 2px;\r\n      margin: -70px;\r\n  }\r\n  \r\n  .about-title {\r\n      text-align: center;\r\n      font-size: 16px;\r\n      color: #CE5A18;\r\n      font-weight: 600;\r\n      margin-top: 80px;\r\n  }\r\n  \r\n  .about-desc {\r\n      text-align: justify;\r\n      font-size: 11px;\r\n      padding: 0 12px;\r\n      margin-top: 10px;\r\n  }\r\n\r\n  .signin {\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 70px;\r\n    background-color: #f4f4f4; \r\n  }\r\n  \r\n  .container {\r\n    display: flex;\r\n    border-radius: 20px;\r\n    width: 85%;\r\n    height: 500px;\r\n    background-color: #fff;\r\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add box shadow for card-like appearance */\r\n  }\r\n  \r\n  .signin-image {\r\n    flex: 1;\r\n    background-image: url(\"/src/public/images/login.png\");\r\n    background-position: center;\r\n    border-radius: 20px 0 0 20px;\r\n    height: 100%;\r\n  }\r\n  \r\n  .signin-header {\r\n    margin: 24px;\r\n    text-align: center;\r\n  }\r\n\r\n  .signin-header h1{\r\n    font-size: 25px;\r\n    color: #CE5A18;\r\n  }\r\n  .signin-header p{\r\n    color: #3E3E3E;\r\n  }\r\n  \r\n  .form {\r\n    flex: 1;\r\n    padding: 20px;\r\n  }\r\n  \r\n  #signin-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .signin-btn {\r\n    background-color: #ce5a18;\r\n    border-radius: 5px;\r\n    border: 1.5px solid #fff;\r\n    margin-top: 10px;\r\n    padding: 0 15px 0 15px;\r\n    color: #fff;\r\n    height: 44px;\r\n  }\r\n  \r\n  .signin-btn:hover {\r\n    background-color: white;\r\n    color: black;\r\n    cursor: pointer;\r\n    border: 1px solid gray;\r\n  }\r\n\r\n  .akun{\r\n    text-align: center;\r\n    margin: 20px;\r\n    font-size: 12px;\r\n    color: #3E3E3E;\r\n  }\r\n\r\n  .akun a{\r\n    text-decoration: none;\r\n    color: #CE5A18;\r\n  }\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  .register {\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-top: 70px;\r\n    background-color: #f4f4f4; /* Add a background color for the body */\r\n  }\r\n  \r\n  .register-image {\r\n    flex: 1;\r\n    background-image: url(\"/src/public/images/signup.png\");\r\n    background-position: center;\r\n    border-radius: 20px 0 0 20px;\r\n    height: 100%;\r\n  }\r\n  \r\n  .register-header {\r\n    margin-top: 40px;\r\n    margin-bottom: 20px;\r\n    text-align: center;\r\n  }\r\n  \r\n  .form {\r\n    flex: 1;\r\n    padding: 20px;\r\n  }\r\n  \r\n  #register-form {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .register-button {\r\n    background-color: #ce5a18;\r\n    border-radius: 5px;\r\n    border: 1.5px solid #fff;\r\n    margin-top: 10px;\r\n    padding: 0 15px 0 15px;\r\n    color: #fff;\r\n    font-size: 12px;\r\n    height: 44px;\r\n  }\r\n  \r\n  .register-button:hover {\r\n    background-color: white;\r\n    color: black;\r\n    cursor: pointer;\r\n    border: 1px solid gray;\r\n  }\r\n  \r\n  .form {\r\n    flex: 1;\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n  }\r\n  \r\n  .input-container {\r\n    position: relative;\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .input-container input {\r\n    padding: 17px;\r\n    width: 300px;\r\n    box-sizing: border-box;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    font-size: 14px;\r\n    outline: none;\r\n    margin-top: 5px;\r\n    transition: border-color 0.3s;\r\n  }\r\n  \r\n  .input-container label {\r\n    position: absolute;\r\n    margin-top: 20px;\r\n    left: 10px;\r\n    font-size: 14px;\r\n    color: #939393;\r\n    font-weight: lighter;\r\n    pointer-events: none;\r\n    transition: top 0.3s, font-size 0.3s;\r\n  }\r\n  \r\n  input:focus + label,\r\n  input:valid + label {\r\n    top: -10px;\r\n  font-size: 12px;\r\n    color: #ce5a18;\r\n  }\r\n  \r\n    \r\n\r\n  \r\n  @media screen and (min-width: 321px) and (max-width: 375px){\r\n    .hero-bold {\r\n        margin-top: -155px;\r\n    }\r\n    .benefits {\r\n        margin-top: -40px;\r\n    }\r\n}\r\n\r\n  @media screen and (max-width: 499px) {\r\n  \r\n    .register-image{\r\n      display: none;\r\n    }\r\n    .signin-image{\r\n      display: none;\r\n    }\r\n    .nav {\r\n      z-index: 15;\r\n      background-color: #00000095;\r\n      width: 100%;\r\n      position: absolute;\r\n      -webkit-transform: translate(-500px, 0);\r\n      transform: translate(-500px, 0);\r\n      transition: transform 0.3s ease;\r\n\r\n    }\r\n  \r\n    .open {\r\n      -webkit-transform: translate(0, 0);\r\n      transform: translate(0,0);\r\n    }\r\n  \r\n    .nav-item {\r\n      text-align: left;\r\n    }\r\n  \r\n    main{\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: 499px) {\r\n\r\n    .register-image{\r\n      display: none;\r\n    }\r\n    .signin-image{\r\n      display: none;\r\n    }\r\n\r\n  .head-menu{\r\n    display: none;\r\n  }\r\n  \r\n  .nav{\r\n    width: 50%;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .nav-list{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 18px;\r\n  }\r\n  .nav-logout{\r\n    margin-top: -10px;\r\n  }\r\n\r\n\r\n\r\n  .nav a{\r\n    color: #ffffff;\r\n    padding: 13px 0 13px 0;\r\n  }\r\n\r\n  .nav li {\r\n    list-style: none;\r\n    }\r\n\r\n  .nav-item{\r\n    border: none;\r\n  }\r\n  \r\n\r\n  .culture-list{\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-row-gap: 16px;\r\n  }\r\n\r\n  .home {\r\n    width: 100%;\r\n    height: 450px;\r\n  \r\n  }\r\n  .home-img{\r\n      width: 100%;\r\n      height: 450px;\r\n  }\r\n  \r\n  .home-inner {\r\n    top: 75%;\r\n  }\r\n  \r\n  .home-title {\r\n    color: #ffffff;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n    letter-spacing: 1px;\r\n  }\r\n  \r\n  .home-ket {\r\n    color: #ffffff;\r\n    margin-top: 7px;\r\n    font-size: 14px;\r\n    font-weight:lighter;\r\n  }\r\n\r\n  .benefits {\r\n    max-width: 80%;\r\n    margin: 0 auto;\r\n    margin-top: -20px;\r\n}\r\n.summary {\r\n    max-width: 95%;\r\n    margin: 0 auto;\r\n}\r\n.about {\r\n    max-width: 80%;\r\n    margin-top: 35px;\r\n}\r\n.weather{\r\n  padding: 20px;\r\n  left: 80%;\r\n}\r\n\r\n.weather-title {\r\n  font-size: 18px;\r\n}\r\n\r\n.description{\r\n  font-size: 12px;\r\n}\r\n \r\n\r\n}\r\n\r\n@media screen and (min-width: 500px) {\r\n  \r\n  .hero-desc{\r\n    display: block;\r\n    padding-left: 40px;\r\n    margin-top: 5px;\r\n    color: #fff ;\r\n    font-weight: lighter;\r\n  }\r\n  .summary {\r\n      height: 400px;\r\n      max-width: 92%;\r\n      margin: 0 auto;\r\n  }\r\n  .about {\r\n      max-width: 90%;\r\n      height: 400px;\r\n  }\r\n\r\n  .benefits {\r\n    max-width: 80%;\r\n    margin: 0 auto;\r\n    margin-top: 50px;\r\n    text-align: left;\r\n}\r\n.summary {\r\n    height: 400px;\r\n    max-width: 92%;\r\n    margin-top: 50px;\r\n}\r\n.about {\r\n    max-width: 90%;\r\n    height: 400px;\r\n}\r\n.benefits-items {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    grid-column-gap: 16px;\r\n}\r\n.title {\r\n    font-size: 20px;\r\n    text-align: left;\r\n}\r\n.benefits-text {\r\n    font-size: 12px;\r\n}\r\n.benefits-icon {\r\n    width: 40px;\r\n    height: auto;\r\n}\r\n.benefits-item {\r\n  margin-top: 5px;\r\n    font-size: 12px;\r\n}\r\n.benefits-desc {\r\n  margin-top: 5px;\r\n    font-size: 11px;\r\n    padding-left: 0;\r\n}\r\n\r\n#summary-title{\r\n  text-align: center;\r\n}\r\n\r\n  \r\n}\r\n \r\n\r\n@media screen and (min-width: 600px) {\r\n\r\n      .register-image{\r\n      display: block;\r\n    }\r\n    .signin-image{\r\n      display: block;\r\n    }\r\n  .nav{\r\n    width: 50%;\r\n  }\r\n  \r\n\r\n  .culture-list{\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-column-gap: 14px;\r\n    grid-row-gap: 16px;\r\n  }\r\n\r\n  .home-title {\r\n    font-size: 24px;\r\n  }\r\n  \r\n  .home-ket {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .about{\r\n    margin-top: 50px;\r\n  }\r\n  \r\n \r\n}\r\n\r\n@media screen and (min-width: 630px) {\r\n  .about {\r\n      height: 450px;\r\n  }\r\n  .about-desc{\r\n    font-size: 14px;\r\n  }\r\n\r\n  .benefits {\r\n    max-width: 85%;\r\n    margin-top: 100px;\r\n}\r\n\r\n.hero-bold {\r\n  padding: 0 80px;\r\n  font-size: 28px;\r\n}\r\n\r\n.hero-desc {\r\n  color: #fff;\r\n  padding: 5px 80px;\r\n  font-size: 13px;\r\n}\r\n\r\n.summary-desc {\r\n  font-size: 14px;\r\n}\r\n.web-name {\r\n  font-size: 32px;\r\n}\r\n}\r\n\r\n@media screen and (min-width: 700px) {\r\n  .culture-list{\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-column-gap: 14px;\r\n    grid-row-gap: 16px;\r\n  }\r\n\r\n  .home-inner{\r\n    top: 75%;\r\n  }\r\n\r\n  .home-title {\r\n    font-size: 28px;\r\n  }\r\n  \r\n  .home-ket {\r\n    font-size: 14px;\r\n  }\r\n  .benefits {\r\n    margin-top: 150px;\r\n}\r\n\r\n  .detail{\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-column-gap: 30px;\r\n  }\r\n\r\n  .detail-desc p{\r\n    font-size: 14px;\r\n  }\r\n  .detail-desc h4{\r\n    font-size: 16px;\r\n  }\r\n\r\n  .detail-info h4{\r\n    font-size: 16px;\r\n  }\r\n  \r\n  .detail-info p{\r\n    font-size: 14px;\r\n  }\r\n  #reviews-list li p{\r\n    font-size: 14px;\r\n  }\r\n  .summary {\r\n    height: 300px;\r\n}\r\n#summary-title {\r\n    text-align: center;\r\n    margin-bottom: 8px;\r\n}\r\n.summary-items {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-column-gap: 16px;\r\n}\r\n.summary-desc {\r\n    font-size: 14px;\r\n}\r\n\r\n.about {\r\n  height: 250px;\r\n  padding: 30px 30px;\r\n}\r\n.about-items {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n}\r\n.about-img {\r\n  margin: 0;\r\n    max-width: 300px;\r\n}\r\n.about-title {\r\n  margin: 0;\r\n  text-align: left;\r\n  font-size: 20px;\r\n  margin-bottom: 5px;\r\n}\r\n.about-desc {\r\n  padding-left: 0;\r\n\r\n}\r\n}\r\n\r\n@media screen and (min-width: 720px) {\r\n\r\n  .hero-bold {\r\n      font-size: 32px;\r\n  }\r\n  .hero-bold {\r\n      padding: 0 80px;\r\n  }\r\n  .hero-desc {\r\n      opacity: 100%;\r\n      color: #fff;\r\n      padding: 5px 80px;\r\n      font-size: 13px;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 800px) {\r\n  .nav{\r\n    width: 45%;\r\n  }\r\n  .nav-list {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n  }\r\n  .home-title{\r\n    text-align: center;\r\n  }\r\n\r\n  .home {\r\n    height: 90%;\r\n  \r\n  }\r\n  .home-img{\r\n\r\n      height: 90%;\r\n  }\r\n\r\n  .search{\r\n    width: 80%;\r\n  }\r\n\r\n  .benefits {\r\n    margin-top: 200px;\r\n}\r\n  \r\n}\r\n\r\n@media screen and (min-width: 900px) {\r\n  .nav{\r\n    width: 40%;\r\n  }\r\n  .culture-list{\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n  }\r\n\r\n  .home-inner{\r\n    top: 80%;\r\n  }\r\n  .home-title {\r\n    font-size: 28px;\r\n  }\r\n  \r\n  .home-ket {\r\n    font-size: 14px;\r\n  }\r\n\r\n  .benefits {\r\n    margin-top: 280px;\r\n    padding: 30px 50px;\r\n}\r\n.benefits-desc {\r\n    font-size: 14px;\r\n}\r\n.summary-desc {\r\n    font-size: 14px;\r\n}\r\n.about{\r\n  max-width: 70%;\r\n}\r\n.about-img {\r\n    max-width: 300px;\r\n}\r\n  \r\n}\r\n\r\n\r\n\r\n@media screen and (min-width: 1100px) {\r\n  .home-inner{\r\n    top: 80%;\r\n  }\r\n  .home-title {\r\n    font-size: 32px;\r\n  }\r\n  \r\n  .home-ket {\r\n    font-size: 16px;\r\n  }\r\n\r\n  .hero-bold {\r\n    padding-left: 100px;\r\n    font-size: 48px;\r\n}\r\n.hero-desc {\r\n    padding-left: 100px;\r\n    font-size: 20px;\r\n}\r\n.benefits {\r\n  margin-top: 40%;\r\n  padding: 30px 50px;\r\n  max-width: 1000px;\r\n}\r\n\r\n.summary-desc{\r\n  margin-top: 50px;\r\n}\r\n\r\n.about{\r\n  max-width: 60%;\r\n}\r\n\r\n.weather {\r\n  padding: 25px;\r\n  text-align: center;\r\n  background-color: #3e3e3e7b;\r\n  border-radius: 10px;\r\n}\r\n\r\n.weather-title {\r\n  font-size: 20px;\r\n}\r\n\r\n.weather-info {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 15px;\r\n}\r\n\r\n.weather-icon img {\r\n  width: 70px; \r\n  height: 70px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.weather-details p {\r\n  margin: 0;\r\n}\r\n\r\n.temperature {\r\n  font-weight: bold;\r\n  font-size: 25px;\r\n  padding-bottom: 5px;\r\n}\r\n\r\n.description {\r\n  text-transform: capitalize;\r\n  font-size: 12px;\r\n}\r\n\r\n\r\n}\r\n\r\n@media screen and (min-width: 1200px) {\r\n  .home-inner{\r\n    top: 75%;\r\n  }\r\n  .home-title {\r\n    font-size: 38px;\r\n  }\r\n\r\n  .about{\r\n    margin-top: 100px;\r\n  }\r\n  \r\n  .home-ket {\r\n    font-size: 18px;\r\n  }\r\n  .nav{\r\n    width: 35%;\r\n  }\r\n  \r\n}"],sourceRoot:""}]);const m=d},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[t].concat([o]).join("\n")}return[t].join("\n")}},90:e=>{!function(t,n){var r=function(e,t,n){"use strict";var r,i;if(function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in i=e.lazySizesConfig||e.lazysizesConfig||{},n)t in i||(i[t]=n[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:i,noSupport:!0};var o,s,a,c,l,u,h,d,p,f,g,m,A,v,y,_,w,C,b,E,x,I,k,T,B,S,P,N,R,O,L,M,D,U,F,j,z,W,q,V,H,G,Y,$,Q=t.documentElement,K=e.HTMLPictureElement,X="addEventListener",J="getAttribute",Z=e[X].bind(e),ee=e.setTimeout,te=e.requestAnimationFrame||ee,ne=e.requestIdleCallback,re=/^picture$/i,ie=["load","error","lazyincluded","_lazyloaded"],oe={},se=Array.prototype.forEach,ae=function(e,t){return oe[t]||(oe[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),oe[t].test(e[J]("class")||"")&&oe[t]},ce=function(e,t){ae(e,t)||e.setAttribute("class",(e[J]("class")||"").trim()+" "+t)},le=function(e,t){var n;(n=ae(e,t))&&e.setAttribute("class",(e[J]("class")||"").replace(n," "))},ue=function(e,t,n){var r=n?X:"removeEventListener";n&&ue(e,t),ie.forEach((function(n){e[r](n,t)}))},he=function(e,n,i,o,s){var a=t.createEvent("Event");return i||(i={}),i.instance=r,a.initEvent(n,!o,!s),a.detail=i,e.dispatchEvent(a),a},de=function(t,n){var r;!K&&(r=e.picturefill||i.pf)?(n&&n.src&&!t[J]("srcset")&&t.setAttribute("srcset",n.src),r({reevaluate:!0,elements:[t]})):n&&n.src&&(t.src=n.src)},pe=function(e,t){return(getComputedStyle(e,null)||{})[t]},fe=function(e,t,n){for(n=n||e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},ge=(H=[],G=V=[],$=function(e,n){W&&!n?e.apply(this,arguments):(G.push(e),q||(q=!0,(t.hidden?ee:te)(Y)))},$._lsFlush=Y=function(){var e=G;for(G=V.length?H:V,W=!0,q=!1;e.length;)e.shift()();W=!1},$),me=function(e,t){return t?function(){ge(e)}:function(){var t=this,n=arguments;ge((function(){e.apply(t,n)}))}},Ae=function(e){var t,r,i=function(){t=null,e()},o=function(){var e=n.now()-r;e<99?ee(o,99-e):(ne||i)(i)};return function(){r=n.now(),t||(t=ee(o,99))}},ve=(w=/^img$/i,C=/^iframe$/i,b="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),0,E=0,x=0,I=-1,k=function(e){x--,(!e||x<0||!e.target)&&(x=0)},T=function(e){return null==_&&(_="hidden"==pe(t.body,"visibility")),_||!("hidden"==pe(e.parentNode,"visibility")&&"hidden"==pe(e,"visibility"))},B=function(e,n){var r,i=e,o=T(e);for(m-=n,y+=n,A-=n,v+=n;o&&(i=i.offsetParent)&&i!=t.body&&i!=Q;)(o=(pe(i,"opacity")||1)>0)&&"visible"!=pe(i,"overflow")&&(r=i.getBoundingClientRect(),o=v>r.left&&A<r.right&&y>r.top-1&&m<r.bottom+1);return o},P=function(e){var t,r=0,o=i.throttleDelay,s=i.ricTimeout,a=function(){t=!1,r=n.now(),e()},c=ne&&s>49?function(){ne(a,{timeout:s}),s!==i.ricTimeout&&(s=i.ricTimeout)}:me((function(){ee(a)}),!0);return function(e){var i;(e=!0===e)&&(s=33),t||(t=!0,(i=o-(n.now()-r))<0&&(i=0),e||i<9?c():ee(c,i))}}(S=function(){var e,n,o,s,a,c,h,p,w,C,k,S,P=r.elements;if((d=i.loadMode)&&x<8&&(e=P.length)){for(n=0,I++;n<e;n++)if(P[n]&&!P[n]._lazyRace)if(!b||r.prematureUnveil&&r.prematureUnveil(P[n]))U(P[n]);else if((p=P[n][J]("data-expand"))&&(c=1*p)||(c=E),C||(C=!i.expand||i.expand<1?Q.clientHeight>500&&Q.clientWidth>500?500:370:i.expand,r._defEx=C,k=C*i.expFactor,S=i.hFac,_=null,E<k&&x<1&&I>2&&d>2&&!t.hidden?(E=k,I=0):E=d>1&&I>1&&x<6?C:0),w!==c&&(f=innerWidth+c*S,g=innerHeight+c,h=-1*c,w=c),o=P[n].getBoundingClientRect(),(y=o.bottom)>=h&&(m=o.top)<=g&&(v=o.right)>=h*S&&(A=o.left)<=f&&(y||v||A||m)&&(i.loadHidden||T(P[n]))&&(u&&x<3&&!p&&(d<3||I<4)||B(P[n],c))){if(U(P[n]),a=!0,x>9)break}else!a&&u&&!s&&x<4&&I<4&&d>2&&(l[0]||i.preloadAfterLoad)&&(l[0]||!p&&(y||v||A||m||"auto"!=P[n][J](i.sizesAttr)))&&(s=l[0]||P[n]);s&&!a&&U(s)}}),R=me(N=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(k(e),ce(t,i.loadedClass),le(t,i.loadingClass),ue(t,O),he(t,"lazyloaded"))}),O=function(e){R({target:e.target})},L=function(e,t){var n=e.getAttribute("data-load-mode")||i.iframeLoadMode;0==n?e.contentWindow.location.replace(t):1==n&&(e.src=t)},M=function(e){var t,n=e[J](i.srcsetAttr);(t=i.customMedia[e[J]("data-media")||e[J]("media")])&&e.setAttribute("media",t),n&&e.setAttribute("srcset",n)},D=me((function(e,t,n,r,o){var s,a,c,l,u,d;(u=he(e,"lazybeforeunveil",t)).defaultPrevented||(r&&(n?ce(e,i.autosizesClass):e.setAttribute("sizes",r)),a=e[J](i.srcsetAttr),s=e[J](i.srcAttr),o&&(l=(c=e.parentNode)&&re.test(c.nodeName||"")),d=t.firesLoad||"src"in e&&(a||s||l),u={target:e},ce(e,i.loadingClass),d&&(clearTimeout(h),h=ee(k,2500),ue(e,O,!0)),l&&se.call(c.getElementsByTagName("source"),M),a?e.setAttribute("srcset",a):s&&!l&&(C.test(e.nodeName)?L(e,s):e.src=s),o&&(a||l)&&de(e,{src:s})),e._lazyRace&&delete e._lazyRace,le(e,i.lazyClass),ge((function(){var t=e.complete&&e.naturalWidth>1;d&&!t||(t&&ce(e,i.fastLoadedClass),N(u),e._lazyCache=!0,ee((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&x--}),!0)})),U=function(e){if(!e._lazyRace){var t,n=w.test(e.nodeName),r=n&&(e[J](i.sizesAttr)||e[J]("sizes")),o="auto"==r;(!o&&u||!n||!e[J]("src")&&!e.srcset||e.complete||ae(e,i.errorClass)||!ae(e,i.lazyClass))&&(t=he(e,"lazyunveilread").detail,o&&ye.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,x++,D(e,t,o,r,n))}},F=Ae((function(){i.loadMode=3,P()})),z=function(){u||(n.now()-p<999?ee(z,999):(u=!0,i.loadMode=3,P(),Z("scroll",j,!0)))},{_:function(){p=n.now(),r.elements=t.getElementsByClassName(i.lazyClass),l=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),Z("scroll",P,!0),Z("resize",P,!0),Z("pageshow",(function(e){if(e.persisted){var n=t.querySelectorAll("."+i.loadingClass);n.length&&n.forEach&&te((function(){n.forEach((function(e){e.complete&&U(e)}))}))}})),e.MutationObserver?new MutationObserver(P).observe(Q,{childList:!0,subtree:!0,attributes:!0}):(Q[X]("DOMNodeInserted",P,!0),Q[X]("DOMAttrModified",P,!0),setInterval(P,999)),Z("hashchange",P,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t[X](e,P,!0)})),/d$|^c/.test(t.readyState)?z():(Z("load",z),t[X]("DOMContentLoaded",P),ee(z,2e4)),r.elements.length?(S(),ge._lsFlush()):P()},checkElems:P,unveil:U,_aLSL:j=function(){3==i.loadMode&&(i.loadMode=2),F()}}),ye=(s=me((function(e,t,n,r){var i,o,s;if(e._lazysizesWidth=r,r+="px",e.setAttribute("sizes",r),re.test(t.nodeName||""))for(o=0,s=(i=t.getElementsByTagName("source")).length;o<s;o++)i[o].setAttribute("sizes",r);n.detail.dataAttr||de(e,n.detail)})),a=function(e,t,n){var r,i=e.parentNode;i&&(n=fe(e,i,n),(r=he(e,"lazybeforesizes",{width:n,dataAttr:!!t})).defaultPrevented||(n=r.detail.width)&&n!==e._lazysizesWidth&&s(e,i,r,n))},{_:function(){o=t.getElementsByClassName(i.autosizesClass),Z("resize",c)},checkElems:c=Ae((function(){var e,t=o.length;if(t)for(e=0;e<t;e++)a(o[e])})),updateElem:a}),_e=function(){!_e.i&&t.getElementsByClassName&&(_e.i=!0,ye._(),ve._())};return ee((function(){i.init&&_e()})),r={cfg:i,autoSizer:ye,loader:ve,init:_e,uP:de,aC:ce,rC:le,hC:ae,fire:he,gW:fe,rAF:ge}}(t,t.document,Date);t.lazySizes=r,e.exports&&(e.exports=r)}("undefined"!=typeof window?window:{})},770:(e,t,n)=>{var r,i,o;!function(s,a){s&&(a=a.bind(null,s,s.document),e.exports?a(n(90)):(i=[n(90)],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o)))}("undefined"!=typeof window?window:0,(function(e,t,n){"use strict";if(e.addEventListener){var r=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,i=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,o=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,s=/^picture$/i,a=n.cfg,c={getParent:function(t,n){var r=t,i=t.parentNode;return n&&"prev"!=n||!i||!s.test(i.nodeName||"")||(i=i.parentNode),"self"!=n&&(r="prev"==n?t.previousElementSibling:n&&(i.closest||e.jQuery)&&(i.closest?i.closest(n):jQuery(i).closest(n)[0])||i),r},getFit:function(e){var t,n,r=getComputedStyle(e,null)||{},s=r.content||r.fontFamily,a={fit:e._lazysizesParentFit||e.getAttribute("data-parent-fit")};return!a.fit&&s&&(t=s.match(i))&&(a.fit=t[1]),a.fit?(!(n=e._lazysizesParentContainer||e.getAttribute("data-parent-container"))&&s&&(t=s.match(o))&&(n=t[1]),a.parent=c.getParent(e,n)):a.fit=r.objectFit,a},getImageRatio:function(t){var n,i,o,c,l,u,h,d=t.parentNode,p=d&&s.test(d.nodeName||"")?d.querySelectorAll("source, img"):[t];for(n=0;n<p.length;n++)if(i=(t=p[n]).getAttribute(a.srcsetAttr)||t.getAttribute("srcset")||t.getAttribute("data-pfsrcset")||t.getAttribute("data-risrcset")||"",o=t._lsMedia||t.getAttribute("media"),o=a.customMedia[t.getAttribute("data-media")||o]||o,i&&(!o||(e.matchMedia&&matchMedia(o)||{}).matches)){(c=parseFloat(t.getAttribute("data-aspectratio")))||((l=i.match(r))?"w"==l[2]?(u=l[1],h=l[3]):(u=l[3],h=l[1]):(u=t.getAttribute("width"),h=t.getAttribute("height")),c=u/h);break}return c},calculateSize:function(e,t){var n,r,i,o=this.getFit(e),s=o.fit,a=o.parent;return"width"==s||("contain"==s||"cover"==s)&&(r=this.getImageRatio(e))?(a?t=a.clientWidth:a=e,i=t,"width"==s?i=t:(n=t/a.clientHeight)&&("cover"==s&&n<r||"contain"==s&&n>r)&&(i=t*(r/n)),i):t}};n.parentFit=c,t.addEventListener("lazybeforesizes",(function(e){if(!e.defaultPrevented&&e.detail.instance==n){var t=e.target;e.detail.width=c.calculateSize(t,e.detail.width)}}))}}))},666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(e,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:t,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(null!=e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],u=o[l]||0,h="".concat(l," ").concat(u);o[l]=u+1;var d=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=i(p,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var c=r(e,i),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},918:(e,t,n)=>{"use strict";e.exports=n.p+"fb9add636aa7735c7e7f.png"},844:(e,t,n)=>{"use strict";e.exports=n.p+"c3bc0a354b16c5873b6e.png"},803:(e,t,n)=>{"use strict";e.exports=n.p+"cacab11471dbf1d596c4.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&!e;)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(379),t=n.n(e),r=n(795),i=n.n(r),o=n(569),s=n.n(o),a=n(565),c=n.n(a),l=n(216),u=n.n(l),h=n(589),d=n.n(h),p=n(756),f={};f.styleTagTransform=d(),f.setAttributes=c(),f.insert=s().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=u(),t()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals,n(666);const g={init:function(e){var t=this,n=e.button,r=e.drawer,i=e.content;n.addEventListener("click",(function(e){t._toggleDrawer(e,r)})),i.addEventListener("click",(function(e){t._closeDrawer(e,r)}))},_toggleDrawer:function(e,t){e.stopPropagation(),t.classList.toggle("open")},_closeDrawer:function(e,t){e.stopPropagation(),t.classList.remove("open")}},m={parseActiveUrlWithCombiner:function(){var e=window.location.hash.slice(1).toLowerCase(),t=this._urlSplitter(e);return this._urlCombiner(t)},parseActiveUrlWithoutCombiner:function(){var e=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(e)},parseActiveUrlWithoutCombinerWithoutLower:function(){var e=window.location.hash.slice(1);return this._urlSplitter(e)},_urlSplitter:function(e){var t=e.split("/");return{resource:t[1]||null,id:t[2]||null,verb:t[3]||null}},_urlCombiner:function(e){return(e.resource?"/".concat(e.resource):"/")+(e.id?"/:id":"")+(e.verb?"/".concat(e.verb):"")}},A=function(e,t){if(!e)throw v(t)},v=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},y=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,l=i>>2,u=(3&i)<<4|s>>4;let h=(15&s)<<2|c>>6,d=63&c;a||(d=64,o||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(y(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw new C;const c=i<<2|o>>4;if(r.push(c),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class C extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b=function(e){const t=y(e);return w.encodeByteArray(t,!0)},E=function(e){return b(e).replace(/\./g,"")},x=function(e){try{return w.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function I(e){return k(void 0,e)}function k(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=k(e[n],t[n]));return e}const T=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&x(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},B=e=>{var t,n;return null===(n=null===(t=T())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},S=e=>{const t=B(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},P=()=>{var e;return null===(e=T())||void 0===e?void 0:e.config},N=e=>{var t;return null===(t=T())||void 0===t?void 0:t[`_${e}`]};class R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function O(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[E(JSON.stringify({alg:"none",type:"JWT"})),E(JSON.stringify(o)),""].join(".")}function L(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function M(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L())}function D(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class U extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,U.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F.prototype.create)}}class F{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(j,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new U(r,s,n)}}const j=/\{\$([^}]+)}/g;function z(e){return JSON.parse(e)}function W(e){return JSON.stringify(e)}const q=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=z(x(o[0])||""),n=z(x(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function H(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function G(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Y(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function $(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Q(n)&&Q(o)){if(!$(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function Q(e){return null!==e&&"object"==typeof e}function K(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function X(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function J(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Z{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^s&(a^c),i=1518500249):(r=s^a^c,i=1859775393):e<60?(r=s&a|c&(s|a),i=2400959708):(r=s^a^c,i=3395469782);const t=(o<<5|o>>>27)+r+l+i+n[e]&4294967295;l=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=t}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class ee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function te(){}function ne(e,t){return`${e} failed: ${t} argument `}const re=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ie(e){return e&&e._delegate?e._delegate:e}class oe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const se="[DEFAULT]";class ae{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new R;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:se})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=se){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=se){return this.instances.has(e)}getOptions(e=se){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===se?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e=se){return this.component?this.component.multipleInstances?e:se:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ae(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const le=[];var ue;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ue||(ue={}));const he={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},de=ue.INFO,pe={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},fe=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=pe[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class ge{constructor(e){this.name=e,this._logLevel=de,this._logHandler=fe,this._userLogHandler=null,le.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?he[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const me=(e,t)=>t.some((t=>e instanceof t));let Ae,ve;const ye=new WeakMap,_e=new WeakMap,we=new WeakMap,Ce=new WeakMap,be=new WeakMap;let Ee={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _e.get(e);if("objectStoreNames"===t)return e.objectStoreNames||we.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ie(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xe(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(ke(this),e),Ie(ye.get(this))}:function(...e){return Ie(t.apply(ke(this),e))}:function(e,...n){const r=t.call(ke(this),e,...n);return we.set(r,e.sort?e.sort():[e]),Ie(r)}:(e instanceof IDBTransaction&&function(e){if(_e.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));_e.set(e,t)}(e),me(e,Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ee):e);var t}function Ie(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Ie(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&ye.set(t,e)})).catch((()=>{})),be.set(t,e),t}(e);if(Ce.has(e))return Ce.get(e);const t=xe(e);return t!==e&&(Ce.set(e,t),be.set(t,e)),t}const ke=e=>be.get(e),Te=["get","getKey","getAll","getAllKeys","count"],Be=["put","add","delete","clear"],Se=new Map;function Pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Se.get(t))return Se.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Be.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Te.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return Se.set(t,o),o}var Ne;Ne=Ee,Ee={...Ne,get:(e,t,n)=>Pe(e,t)||Ne.get(e,t,n),has:(e,t)=>!!Pe(e,t)||Ne.has(e,t)};class Re{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Oe="@firebase/app",Le="0.9.25",Me=new ge("@firebase/app"),De="[DEFAULT]",Ue={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Fe=new Map,je=new Map;function ze(e,t){try{e.container.addComponent(t)}catch(n){Me.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function We(e){const t=e.name;if(je.has(t))return Me.debug(`There were multiple attempts to register component ${t}.`),!1;je.set(t,e);for(const t of Fe.values())ze(t,e);return!0}function qe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Ve=new F("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class He{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new oe("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ve.create("app-deleted",{appName:this._name})}}const Ge="10.7.1";function Ye(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:De,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Ve.create("bad-app-name",{appName:String(i)});if(n||(n=P()),!n)throw Ve.create("no-options");const o=Fe.get(i);if(o){if($(n,o.options)&&$(r,o.config))return o;throw Ve.create("duplicate-app",{appName:i})}const s=new ce(i);for(const e of je.values())s.addComponent(e);const a=new He(n,r,s);return Fe.set(i,a),a}function $e(e=De){const t=Fe.get(e);if(!t&&e===De&&P())return Ye();if(!t)throw Ve.create("no-app",{appName:e});return t}function Qe(e,t,n){var r;let i=null!==(r=Ue[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Me.warn(e.join(" "))}We(new oe(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Ke="firebase-heartbeat-database",Xe=1,Je="firebase-heartbeat-store";let Ze=null;function et(){return Ze||(Ze=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ie(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Ie(s.result),e.oldVersion,e.newVersion,Ie(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ke,Xe,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Je)}}).catch((e=>{throw Ve.create("idb-open",{originalErrorMessage:e.message})}))),Ze}async function tt(e,t){try{const n=(await et()).transaction(Je,"readwrite"),r=n.objectStore(Je);await r.put(t,nt(e)),await n.done}catch(e){if(e instanceof U)Me.warn(e.message);else{const t=Ve.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Me.warn(t.message)}}}function nt(e){return`${e.name}!${e.options.appId}`}class rt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ot(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=it();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=it(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),st(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),st(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=E(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function it(){return(new Date).toISOString().substring(0,10)}class ot{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await et();return await t.transaction(Je).objectStore(Je).get(nt(e))}catch(e){if(e instanceof U)Me.warn(e.message);else{const t=Ve.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Me.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return tt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return tt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function st(e){return E(JSON.stringify({version:2,heartbeats:e})).length}function at(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}We(new oe("platform-logger",(e=>new Re(e)),"PRIVATE")),We(new oe("heartbeat",(e=>new rt(e)),"PRIVATE")),Qe(Oe,Le,""),Qe(Oe,Le,"esm2017"),Qe("fire-js",""),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const ct=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new F("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ge("@firebase/auth");function ht(e,...t){ut.logLevel<=ue.ERROR&&ut.error(`Auth (${Ge}): ${e}`,...t)}function dt(e,...t){throw ft(e,...t)}function pt(e,...t){return ft(e,...t)}function ft(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return lt.create(e,...t)}function gt(e,t,...n){if(!e)throw ft(t,...n)}function mt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ht(t),new Error(t)}function At(e,t){e||mt(t)}function vt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yt(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function _t(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===yt()||"https:"===yt()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class wt{constructor(e,t){this.shortDelay=e,this.longDelay=t,At(t>e,"Short delay should be less than long delay!"),this.isMobile=M()||D()}get(){return _t()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ct(e,t){At(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class bt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},xt=new wt(3e4,6e4);function It(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kt(e,t,n,r,i={}){return Tt(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=K(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),bt.fetch()(St(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Tt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Et),t);try{const t=new Nt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Rt(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Rt(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Rt(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Rt(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw function(e,t,n){const r=Object.assign(Object.assign({},ct()),{[t]:n});return new F("auth","Firebase",r).create(t,{appName:e.name})}(e,a,s);dt(e,a)}}catch(t){if(t instanceof U)throw t;dt(e,"network-request-failed",{message:String(t)})}}async function Bt(e,t,n,r,i={}){const o=await kt(e,t,n,r,i);return"mfaPendingCredential"in o&&dt(e,"multi-factor-auth-required",{_serverResponse:o}),o}function St(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Ct(e.config,i):`${e.config.apiScheme}://${i}`}function Pt(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Nt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(pt(this.auth,"network-request-failed"))),xt.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pt(e,t,r);return i.customData._tokenResponse=n,i}function Ot(e){return void 0!==e&&void 0!==e.enterprise}class Lt{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Pt(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function Mt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Dt(e){return 1e3*Number(e)}function Ut(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const e=x(n);return e?JSON.parse(e):(ht("Failed to decode base64 JWT payload"),null)}catch(e){return ht("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function Ft(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof U&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class jt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class zt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mt(this.lastLoginAt),this.creationTime=Mt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ft(e,async function(e,t){return kt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));gt(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=at(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,s),c=e.isAnonymous,l=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),u=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zt(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,h)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gt(e.idToken,"internal-error"),gt(void 0!==e.idToken,"internal-error"),gt(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ut(e);return gt(t,"internal-error"),gt(void 0!==t.exp,"internal-error"),gt(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return gt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Tt(e,{},(async()=>{const n=K({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=St(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",bt.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new qt;return n&&(gt("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(gt("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(gt("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return mt("not implemented")}}function Vt(e,t){gt("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ht{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=at(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ft(this,this.stsTokenManager.getToken(this.auth,e));return gt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=ie(e),r=await n.getIdToken(t),i=Ut(r);gt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Mt(Dt(i.auth_time)),issuedAtTime:Mt(Dt(i.iat)),expirationTime:Mt(Dt(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ie(e);await Wt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(gt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ht(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Wt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ft(this,async function(e,t){return kt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,A=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:v,emailVerified:y,isAnonymous:_,providerData:w,stsTokenManager:C}=t;gt(v&&C,e,"internal-error");const b=qt.fromJSON(this.name,C);gt("string"==typeof v,e,"internal-error"),Vt(u,e.name),Vt(h,e.name),gt("boolean"==typeof y,e,"internal-error"),gt("boolean"==typeof _,e,"internal-error"),Vt(d,e.name),Vt(p,e.name),Vt(f,e.name),Vt(g,e.name),Vt(m,e.name),Vt(A,e.name);const E=new Ht({uid:v,auth:e,email:h,emailVerified:y,displayName:u,isAnonymous:_,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:b,createdAt:m,lastLoginAt:A});return w&&Array.isArray(w)&&(E.providerData=w.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t,n=!1){const r=new qt;r.updateFromServerResponse(t);const i=new Ht({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Wt(i),i}}const Gt=new Map;function Yt(e){At(e instanceof Function,"Expected a class definition");let t=Gt.get(e);return t?(At(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gt.set(e,t),t)}class $t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$t.type="NONE";const Qt=$t;function Kt(e,t,n){return`firebase:${e}:${t}:${n}`}class Xt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Kt(this.userKey,r.apiKey,i),this.fullPersistenceKey=Kt("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ht._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Xt(Yt(Qt),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Yt(Qt);const o=Kt(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=Ht._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new Xt(i,e,n)):new Xt(i,e,n)}}function Jt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(on(t))return"Blackberry";if(sn(t))return"Webos";if(en(t))return"Safari";if((t.includes("chrome/")||tn(t))&&!t.includes("edge/"))return"Chrome";if(rn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Zt(e=L()){return/firefox\//i.test(e)}function en(e=L()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tn(e=L()){return/crios\//i.test(e)}function nn(e=L()){return/iemobile/i.test(e)}function rn(e=L()){return/android/i.test(e)}function on(e=L()){return/blackberry/i.test(e)}function sn(e=L()){return/webos/i.test(e)}function an(e=L()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cn(e=L()){return an(e)||rn(e)||sn(e)||on(e)||/windows phone/i.test(e)||nn(e)}function ln(e,t=[]){let n;switch(e){case"Browser":n=Jt(L());break;case"Worker":n=`${Jt(L())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ge}/${r}`}class un{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(e){r(e)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class hn{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,s;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(o=a.containsNumericCharacter)||void 0===o||o),a.isValid&&(a.isValid=null===(s=a.containsNonAlphanumericCharacter)||void 0===s||s),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class dn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fn(this),this.idTokenSubscription=new fn(this),this.beforeStateQueue=new un(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yt(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Xt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null==s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Wt(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?ie(e):null;return t&&gt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&gt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Yt(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return kt(e,"GET","/v2/passwordPolicy",It(e,t))}(this),t=new hn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new F("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return kt(e,"POST","/v2/accounts:revokeToken",It(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yt(e)||this._popupRedirectResolver;gt(t,this,"argument-error"),this.redirectPersistenceManager=await Xt.create(this,[Yt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(s,this,"internal-error"),s.then((()=>{o||i(this.currentUser)})),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ln(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){ut.logLevel<=ue.WARN&&ut.warn(`Auth (${Ge}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function pn(e){return ie(e)}class fn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ee(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gn(e){return new Promise(((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=pt("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}))}function mn(e){return`__${e}${Math.floor(1e6*Math.random())}`}class An{constructor(e){this.type="recaptcha-enterprise",this.auth=pn(e)}async verify(e="verify",t=!1){function n(t,n,r){const i=window.grecaptcha;Ot(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return kt(e,"GET","/v2/recaptchaConfig",It(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Lt(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ot(window.grecaptcha))n(i,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));gn("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function vn(e,t,n,r=!1){const i=new An(e);let o;try{o=await i.verify(n)}catch(e){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function yn(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await vn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await vn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function _n(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Cn{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mt("not implemented")}_getIdTokenResponse(e){return mt("not implemented")}_linkToIdToken(e,t){return mt("not implemented")}_getReauthenticationResolver(e){return mt("not implemented")}}async function bn(e,t){return kt(e,"POST","/v1/accounts:signUp",t)}async function En(e,t){return Bt(e,"POST","/v1/accounts:signInWithPassword",It(e,t))}class xn extends Cn{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new xn(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new xn(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return yn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",En);case"emailLink":return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithEmailLink",It(e,t))}(e,{email:this._email,oobCode:this._password});default:dt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return yn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bn);case"emailLink":return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithEmailLink",It(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function In(e,t){return Bt(e,"POST","/v1/accounts:signInWithIdp",It(e,t))}class kn extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new kn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=at(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new kn(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return In(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,In(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,In(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=K(t)}return e}}const Tn={USER_NOT_FOUND:"user-not-found"};class Bn extends Cn{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithPhoneNumber",It(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Bt(e,"POST","/v1/accounts:signInWithPhoneNumber",It(e,t));if(n.temporaryProof)throw Rt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Bt(e,"POST","/v1/accounts:signInWithPhoneNumber",It(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Tn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Bn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Sn{constructor(e){var t,n,r,i,o,s;const a=X(J(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);gt(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=X(J(e)).link,n=t?X(J(t)).deep_link_id:null,r=X(J(e)).deep_link_id;return(r?X(J(r)).link:null)||r||n||t||e}(e);try{return new Sn(t)}catch(e){return null}}}class Pn{constructor(){this.providerId=Pn.PROVIDER_ID}static credential(e,t){return xn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Sn.parseLink(t);return gt(n,"argument-error"),xn._fromEmailAndCode(e,n.code,n.tenantId)}}Pn.PROVIDER_ID="password",Pn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Pn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Nn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rn extends Nn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class On extends Rn{constructor(){super("facebook.com")}static credential(e){return kn._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return On.credential(e.oauthAccessToken)}catch(e){return null}}}On.FACEBOOK_SIGN_IN_METHOD="facebook.com",On.PROVIDER_ID="facebook.com";class Ln extends Rn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return kn._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ln.credential(t,n)}catch(e){return null}}}Ln.GOOGLE_SIGN_IN_METHOD="google.com",Ln.PROVIDER_ID="google.com";class Mn extends Rn{constructor(){super("github.com")}static credential(e){return kn._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Mn.credential(e.oauthAccessToken)}catch(e){return null}}}Mn.GITHUB_SIGN_IN_METHOD="github.com",Mn.PROVIDER_ID="github.com";class Dn extends Rn{constructor(){super("twitter.com")}static credential(e,t){return kn._fromParams({providerId:Dn.PROVIDER_ID,signInMethod:Dn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Dn.credentialFromTaggedObject(e)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Dn.credential(t,n)}catch(e){return null}}}async function Un(e,t){return Bt(e,"POST","/v1/accounts:signUp",It(e,t))}Dn.TWITTER_SIGN_IN_METHOD="twitter.com",Dn.PROVIDER_ID="twitter.com";class Fn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await Ht._fromIdTokenResponse(e,n,r),o=jn(n);return new Fn({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=jn(n);return new Fn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function jn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class zn extends U{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,zn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new zn(e,t,n,r)}}function Wn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw zn._fromErrorAndOperation(e,n,t,r);throw n}))}async function qn(e,t,n=!1){const r="signIn",i=await Wn(e,r,t),o=await Fn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Vn(e){const t=pn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Hn(e,t,n){const r=pn(e),i=yn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Un),o=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Vn(e),t})),s=await Fn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(s.user),s}function Gn(e,t,n){return async function(e,t){return qn(pn(e),t)}(ie(e),Pn.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Vn(e),t}))}async function Yn(e,t){const n=ie(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&function(e,t,n){var r;gt((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gt(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gt(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gt(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}(n.auth,r,t);const{email:i}=await async function(e,t){return async function(e,t){return kt(e,"POST","/v1/accounts:sendOobCode",It(e,t))}(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function $n(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=ie(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await Ft(r,async function(e,t){return kt(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}new WeakMap;const Qn="__sak";class Kn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qn,"1"),this.storage.removeItem(Qn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Xn extends Kn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=L();return en(e)||an(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=cn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);!function(){const e=L();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||i===e.newValue||e.newValue===e.oldValue?r():setTimeout(r,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xn.type="LOCAL";const Jn=Xn;class Zn extends Kn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zn.type="SESSION";const er=Zn;class tr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new tr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function nr(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}tr.receivers=[];class rr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const c=nr("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function ir(){return window}function or(){return void 0!==ir().WorkerGlobalScope&&"function"==typeof ir().importScripts}const sr="firebaseLocalStorageDb",ar="firebaseLocalStorage",cr="fbase_key";class lr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ur(e,t){return e.transaction([ar],t?"readwrite":"readonly").objectStore(ar)}function hr(){const e=indexedDB.open(sr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ar,{keyPath:cr})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ar)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(sr);return new lr(e).toPromise()}(),t(await hr()))}))}))}async function dr(e,t,n){const r=ur(e,!0).put({[cr]:t,value:n});return new lr(r).toPromise()}function pr(e,t){const n=ur(e,!0).delete(t);return new lr(n).toPromise()}class fr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await hr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return or()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tr._getInstance(or()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new rr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hr();return await dr(e,Qn,"1"),await pr(e,Qn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>dr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ur(e,!1).get(t),r=await new lr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>pr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ur(e,!1).getAll();return new lr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}fr.type="LOCAL";const gr=fr;mn("rcb"),new wt(3e4,6e4);class mr{constructor(e){this.providerId=mr.PROVIDER_ID,this.auth=pn(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var r;const i=await n.verify();try{let o;if(gt("string"==typeof i,e,"argument-error"),gt("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){gt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return kt(e,"POST","/v2/accounts/mfaEnrollment:start",It(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{gt("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;gt(n,e,"missing-multi-factor-info");const s=await function(e,t){return kt(e,"POST","/v2/accounts/mfaSignIn:start",It(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return kt(e,"POST","/v1/accounts:sendVerificationCode",It(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}(this.auth,e,ie(t))}static credential(e,t){return Bn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mr.credentialFromTaggedObject(t)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?Bn._fromTokenResponse(t,n):null}}mr.PROVIDER_ID="phone",mr.PHONE_SIGN_IN_METHOD="phone";class Ar extends Cn{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return In(e,this._buildIdpRequest())}_linkToIdToken(e,t){return In(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return In(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vr(e){return qn(e.auth,new Ar(e),e.bypassAuthState)}function yr(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),async function(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Ft(e,Wn(r,i,t,e),n);gt(o.idToken,r,"internal-error");const s=Ut(o.idToken);gt(s,r,"internal-error");const{sub:a}=s;return gt(e.uid===a,r,"user-mismatch"),Fn._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&dt(r,"user-mismatch"),e}}(n,new Ar(e),e.bypassAuthState)}async function _r(e){const{auth:t,user:n}=e;return gt(n,t,"internal-error"),async function(e,t,n=!1){const r=await Ft(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fn._forOperation(e,"link",r)}(n,new Ar(e),e.bypassAuthState)}class wr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:dt(this.auth,"internal-error")}}resolve(e){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){At(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cr=new wt(2e3,1e4);class br extends wr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,br.currentPopupAction&&br.currentPopupAction.cancel(),br.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gt(e,this.auth,"internal-error"),e}async onExecution(){At(1===this.filter.length,"Popup operations only handle one event");const e=nr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(pt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(pt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,br.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(pt(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Cr.get())};e()}}br.currentPopupAction=null;const Er="pendingRedirect",xr=new Map;class Ir extends wr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=xr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Kt(Er,e.config.apiKey,e.name)}(t),r=function(e){return Yt(e._redirectPersistence)}(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}xr.set(this.auth._key(),e)}return this.bypassAuthState||xr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function kr(e,t){xr.set(e._key(),t)}async function Tr(e,t,n=!1){const r=pn(e),i=function(e,t){return t?Yt(t):(gt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new Ir(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class Br{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Pr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pt(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sr(e))}saveEventToCache(e){this.cachedEventUids.add(Sr(e)),this.lastProcessedEventTime=Date.now()}}function Sr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Pr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Nr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rr=/^https?/;function Or(e){const t=vt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Rr.test(n))return!1;if(Nr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Lr=new wt(3e4,6e4);function Mr(){const e=ir().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Dr=null;function Ur(e){return Dr=Dr||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Mr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mr(),n(pt(e,"network-request-failed"))},timeout:Lr.get()})}if(null===(i=null===(r=ir().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=ir().gapi)||void 0===o?void 0:o.load)){const t=mn("iframefcb");return ir()[t]=()=>{gapi.load?s():n(pt(e,"network-request-failed"))},gn(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Dr=null,e}))}(e),Dr}const Fr=new wt(5e3,15e3),jr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wr(e){const t=e.config;gt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ct(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Ge},i=zr.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${K(r).slice(1)}`}const qr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Vr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const Hr=encodeURIComponent("fac");async function Gr(e,t,n,r,i,o){gt(e.config.authDomain,e,"auth-domain-config-required"),gt(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ge,eventId:i};if(t instanceof Nn){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",G(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Rn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];const c=await e._getAppCheckToken(),l=c?`#${Hr}=${encodeURIComponent(c)}`:"";return`${function({config:e}){return e.emulator?Ct(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${K(a).slice(1)}${l}`}const Yr="webStorageSupport",$r=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=er,this._completeRedirectFn=Tr,this._overrideRedirectResult=kr}async _openPopup(e,t,n,r){var i;return At(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},qr),{width:r.toString(),height:i.toString(),top:o,left:s}),l=L().toLowerCase();n&&(a=tn(l)?"_blank":n),Zt(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=L()){var t;return an(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Vr(null);const h=window.open(t||"",a,u);gt(h,e,"popup-blocked");try{h.focus()}catch(e){}return new Vr(h)}(e,await Gr(e,t,n,vt(),r),nr())}async _openRedirect(e,t,n,r){return await this._originValidation(e),i=await Gr(e,t,n,vt(),r),ir().location.href=i,new Promise((()=>{}));var i}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(At(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ur(e),n=ir().gapi;return gt(n,e,"internal-error"),t.open({where:document.body,url:Wr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jr,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=pt(e,"network-request-failed"),o=ir().setTimeout((()=>{r(i)}),Fr.get());function s(){ir().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new Br(e);return t.register("authEvent",(t=>(gt(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yr,{type:Yr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Yr];void 0!==i&&t(!!i),dt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return kt(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Or(e))return}catch(e){}dt(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cn()||en()||an()}};var Qr="@firebase/auth",Kr="1.5.1";class Xr{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jr=N("authIdTokenMaxAge")||300;let Zr=null;function ei(e=$e()){const t=qe(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=qe(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if($(n.getOptions(),null!=t?t:{}))return e;dt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:$r,persistence:[gr,Jn,er]}),r=N("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Jr)return;const r=null==t?void 0:t.token;Zr!==r&&(Zr=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ie(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,r,i){ie(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var i;const o=B("auth");return o&&function(e,t,n){const r=pn(e);gt(r._canInitEmulator,r,"emulator-config-failed"),gt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=_n(t),{host:s,port:a}=function(e){const t=_n(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:wn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:wn(t)}}}(t),c=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${o}`),n}var ti;ti="Browser",We(new oe("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;gt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const a={apiKey:o,authDomain:s,clientPlatform:ti,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ln(ti)},c=new dn(n,r,i,a);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yt);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(c,t),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),We(new oe("auth-internal",(e=>{return t=pn(e.getProvider("auth").getImmediate()),new Xr(t);var t}),"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(Qr,Kr,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ti)),Qe(Qr,Kr,"esm2017");const ni="@firebase/database",ri="1.0.2";let ii="";class oi{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),W(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:z(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class si{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return V(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ai=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new oi(t)}}catch(e){}return new si},ci=ai("localStorage"),li=ai("sessionStorage"),ui=new ge("@firebase/database"),hi=function(){let e=1;return function(){return e++}}(),di=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,A(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Z;n.update(t);const r=n.digest();return w.encodeByteArray(r)},pi=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=pi.apply(null,r):t+="object"==typeof r?W(r):r,t+=" "}return t};let fi=null,gi=!0;const mi=function(...e){if(!0===gi&&(gi=!1,null===fi&&!0===li.get("logging_enabled")&&(t=!0,A(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(ui.logLevel=ue.VERBOSE,fi=ui.log.bind(ui),n&&li.set("logging_enabled",!0)):"function"==typeof t?fi=t:(fi=null,li.remove("logging_enabled")))),fi){const t=pi.apply(null,e);fi(t)}var t,n},Ai=function(e){return function(...t){mi(e,...t)}},vi=function(...e){const t="FIREBASE INTERNAL ERROR: "+pi(...e);ui.error(t)},yi=function(...e){const t=`FIREBASE FATAL ERROR: ${pi(...e)}`;throw ui.error(t),new Error(t)},_i=function(...e){const t="FIREBASE WARNING: "+pi(...e);ui.warn(t)},wi=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Ci="[MIN_NAME]",bi="[MAX_NAME]",Ei=function(e,t){if(e===t)return 0;if(e===Ci||t===bi)return-1;if(t===Ci||e===bi)return 1;{const n=Ni(e),r=Ni(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},xi=function(e,t){return e===t?0:e<t?-1:1},Ii=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+W(t))},ki=function(e){if("object"!=typeof e||null===e)return W(e);const t=[];for(const n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=W(t[r]),n+=":",n+=ki(e[t[r]]);return n+="}",n},Ti=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Bi(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Si=function(e){A(!wi(e),"Invalid JSON number");let t,n,r,i,o;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();const a=s.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(a.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},Pi=new RegExp("^-?(0*)\\d{1,10}$"),Ni=function(e){if(Pi.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ri=function(e){try{e()}catch(e){setTimeout((()=>{const t=e.stack||"";throw _i("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Oi=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Li{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){_i(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Mi{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(mi("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_i(e)}}class Di{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Di.OWNER="owner";const Ui="5",Fi=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ji="ac",zi="websocket",Wi="long_polling";class qi{constructor(e,t,n,r,i=!1,o="",s=!1,a=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ci.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ci.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Vi(e,t,n){let r;if(A("string"==typeof t,"typeof type must == string"),A("object"==typeof n,"typeof params must == object"),t===zi)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Wi)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Bi(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Hi{constructor(){this.counters_={}}incrementCounter(e,t=1){V(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return I(this.counters_)}}const Gi={},Yi={};function $i(e){const t=e.toString();return Gi[t]||(Gi[t]=new Hi),Gi[t]}class Qi{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ri((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Ki="start";class Xi{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ai(e),this.stats_=$i(t),this.urlFn=e=>(this.appCheckToken&&(e[ji]=this.appCheckToken),Vi(t,Wi,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Qi(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ji(((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===Ki)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,(()=>{this.onClosed_()}))):this.onClosed_()}}),((...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Ki]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Ui,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[ji]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Fi.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xi.forceAllow_=!0}static forceDisallow(){Xi.forceDisallow_=!0}static isAvailable(){return!(!Xi.forceAllow_&&(Xi.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=W(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=b(t),r=Ti(n,1840);for(let e=0;e<r.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=W(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ji{constructor(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=hi(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ji.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){mi("frame writing exception"),e.stack&&mi(e.stack),mi(e)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||mi("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{mi("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}}),Math.floor(1))}}let Zi=null;"undefined"!=typeof MozWebSocket?Zi=MozWebSocket:"undefined"!=typeof WebSocket&&(Zi=WebSocket);class eo{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ai(this.connId),this.stats_=$i(t),this.connURL=eo.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Ui,"undefined"!=typeof location&&location.hostname&&Fi.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[ji]=r),i&&(o.p=i),Vi(e,zi,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ci.set("previous_websocket_failure",!0);try{let e;0,this.mySock=new Zi(this.connURL,[],e)}catch(e){this.log_("Error instantiating WebSocket.");const t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){eo.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Zi&&!eo.forceDisallow_}static previouslyFailed(){return ci.isInMemoryStorage||!0===ci.get("previous_websocket_failure")}markConnectionHealthy(){ci.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=z(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(A(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=W(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ti(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}eo.responsesRequiredToBeHealthy=2,eo.healthyTimeout=3e4;class to{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xi,eo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=eo&&eo.isAvailable();let n=t&&!eo.previouslyFailed();if(e.webSocketOnly&&(t||_i("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[eo];else{const e=this.transports_=[];for(const t of to.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);to.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}to.globalTransportInitialized_=!1;class no{constructor(e,t,n,r,i,o,s,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ai("c:"+this.id+":"),this.transportManager_=new to(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Oi((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ii("t",e),n=Ii("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ii("t",e),n=Ii("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ii("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?vi("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vi("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Ui!==n&&_i("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Oi((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oi((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ro{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class io{constructor(e){this.allowedEvents_=e,this.listeners_={},A(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context))return void r.splice(e,1)}validateEventType_(e){A(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class oo extends io{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||M()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new oo}getInitialEvent(e){return A("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class so{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ao(){return new so("")}function co(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function lo(e){return e.pieces_.length-e.pieceNum_}function uo(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new so(e.pieces_,t)}function ho(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function po(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function fo(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new so(t,0)}function go(e,t){const n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof so)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new so(n,0)}function mo(e){return e.pieceNum_>=e.pieces_.length}function Ao(e,t){const n=co(e),r=co(t);if(null===n)return t;if(n===r)return Ao(uo(e),uo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function vo(e,t){if(lo(e)!==lo(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function yo(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(lo(e)>lo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class _o{constructor(e,t){this.errorPrefix_=t,this.parts_=po(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=re(this.parts_[e]);wo(this)}}function wo(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Co(e))}function Co(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class bo extends io{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new bo}getInitialEvent(e){return A("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Eo=1e3;class xo extends ro{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=xo.nextPersistentConnectionId_++,this.log_=Ai("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Eo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bo.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&oo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r,a:e,b:t};this.log_(W(i)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new R,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;xo.warnOnListenWarnings_(o,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&V(e,"w")){const n=H(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();_i(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=q(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=q(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),A(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+W(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):vi("Unrecognized action received from server: "+W(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Eo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Eo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Eo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+xo.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},c=function(e){A(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:c};const l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,c]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?mi("getToken() completed but was canceled"):(mi("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=c&&c.token,s=new no(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{_i(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(e){this.log_("Failed to get token: "+e),o||(this.repoInfo_.nodeAdmin&&_i(e),a())}}}interrupt(e){mi("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mi("Resuming connection for reason: "+e),delete this.interruptReasons_[e],G(this.interruptReasons_)&&(this.reconnectDelay_=Eo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>ki(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new so(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){mi("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){mi("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+ii.replace(/\./g,"-")]=1,M()?e["framework.cordova"]=1:D()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=oo.getInstance().currentlyOnline();return G(this.interruptReasons_)&&e}}xo.nextPersistentConnectionId_=0,xo.nextConnectionId_=0;class Io{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Io(e,t)}}class ko{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Io(Ci,e),r=new Io(Ci,t);return 0!==this.compare(n,r)}minPost(){return Io.MIN}}let To;class Bo extends ko{static get __EMPTY_NODE(){return To}static set __EMPTY_NODE(e){To=e}compare(e,t){return Ei(e.name,t.name)}isDefinedOn(e){throw v("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Io.MIN}maxPost(){return new Io(bi,To)}makePost(e,t){return A("string"==typeof e,"KeyIndex indexValue must always be a string."),new Io(e,To)}toString(){return".key"}}const So=new Bo;class Po{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class No{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:No.RED,this.left=null!=r?r:Ro.EMPTY_NODE,this.right=null!=i?i:Ro.EMPTY_NODE}copy(e,t,n,r,i){return new No(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ro.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ro.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,No.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,No.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}No.RED=!0,No.BLACK=!1;class Ro{constructor(e,t=Ro.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ro(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,No.BLACK,null,null))}remove(e){return new Ro(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,No.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Po(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Po(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Po(this.root_,null,this.comparator_,!0,e)}}function Oo(e,t){return Ei(e.name,t.name)}function Lo(e,t){return Ei(e,t)}let Mo;Ro.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new No(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Do=function(e){return"number"==typeof e?"number:"+Si(e):"string:"+e},Uo=function(e){if(e.isLeafNode()){const t=e.val();A("string"==typeof t||"number"==typeof t||"object"==typeof t&&V(t,".sv"),"Priority must be a string or number.")}else A(e===Mo||e.isEmpty(),"priority of unexpected type.");A(e===Mo||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Fo,jo,zo;class Wo{constructor(e,t=Wo.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,A(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Uo(this.priorityNode_)}static set __childrenNodeConstructor(e){Fo=e}static get __childrenNodeConstructor(){return Fo}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Wo(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Wo.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mo(e)?this:".priority"===co(e)?this.priorityNode_:Wo.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Wo.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=co(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(A(".priority"!==n||1===lo(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Wo.__childrenNodeConstructor.EMPTY_NODE.updateChild(uo(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Do(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Si(this.value_):this.value_,this.lazyHash_=di(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Wo.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Wo.__childrenNodeConstructor?-1:(A(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Wo.VALUE_TYPE_ORDER.indexOf(t),i=Wo.VALUE_TYPE_ORDER.indexOf(n);return A(r>=0,"Unknown leaf type: "+t),A(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Wo.VALUE_TYPE_ORDER=["object","boolean","number","string"];const qo=new class extends ko{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Ei(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Io.MIN}maxPost(){return new Io(bi,new Wo("[PRIORITY-POST]",zo))}makePost(e,t){const n=jo(e);return new Io(t,new Wo("[PRIORITY-POST]",n))}toString(){return".priority"}},Vo=Math.log(2);class Ho{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Vo,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Go=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new No(a,s.node,No.BLACK,null,null);{const c=parseInt(o/2,10)+t,l=i(t,c),u=i(c+1,r);return s=e[c],a=n?n(s):s,new No(a,s.node,No.BLACK,l,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const l=i(o+1,a),u=e[o],h=n?n(u):u;c(new No(h,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,No.BLACK):(a(r,No.BLACK),a(r,No.RED))}return o}(new Ho(e.length));return new Ro(r||t,o)};let Yo;const $o={};class Qo{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return A($o&&qo,"ChildrenNode.ts has not been loaded"),Yo=Yo||new Qo({".priority":$o},{".priority":qo}),Yo}get(e){const t=H(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ro?t:null}hasIndex(e){return V(this.indexSet_,e.toString())}addIndex(e,t){A(e!==So,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Io.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?Go(n,e.getCompare()):$o;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const l=Object.assign({},this.indexes_);return l[a]=o,new Qo(l,c)}addToIndexes(e,t){const n=Y(this.indexes_,((n,r)=>{const i=H(this.indexSet_,r);if(A(i,"Missing index implementation for "+r),n===$o){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Io.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Go(n,i.getCompare())}return $o}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Io(e.name,r))),i.insert(e,e.node)}}));return new Qo(n,this.indexSet_)}removeFromIndexes(e,t){const n=Y(this.indexes_,(n=>{if(n===$o)return n;{const r=t.get(e.name);return r?n.remove(new Io(e.name,r)):n}}));return new Qo(n,this.indexSet_)}}let Ko;class Xo{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Uo(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ko||(Ko=new Xo(new Ro(Lo),null,Qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ko}updatePriority(e){return this.children_.isEmpty()?this:new Xo(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ko:t}}getChild(e){const t=co(e);return null===t?this:this.getImmediateChild(t).getChild(uo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(A(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Io(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Ko:this.priorityNode_;return new Xo(r,o,i)}}updateChild(e,t){const n=co(e);if(null===n)return t;{A(".priority"!==co(e)||1===lo(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(uo(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(qo,((o,s)=>{t[o]=s.val(e),n++,i&&Xo.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Do(this.getPriority().val())+":"),this.forEachChild(qo,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":di(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Io(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Io(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Io(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Io.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Io.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Jo?-1:0}withIndex(e){if(e===So||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Xo(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===So||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(qo),n=t.getIterator(qo);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===So?null:this.indexMap_.get(e.toString())}}Xo.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Jo=new class extends Xo{constructor(){super(new Ro(Lo),Xo.EMPTY_NODE,Qo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Xo.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Io,{MIN:{value:new Io(Ci,Xo.EMPTY_NODE)},MAX:{value:new Io(bi,Jo)}}),Bo.__EMPTY_NODE=Xo.EMPTY_NODE,Wo.__childrenNodeConstructor=Xo,Mo=Jo,zo=Jo;const Zo=!0;function es(e,t=null){if(null===e)return Xo.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),A(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Wo(e,es(t));if(e instanceof Array||!Zo){let n=Xo.EMPTY_NODE;return Bi(e,((t,r)=>{if(V(e,t)&&"."!==t.substring(0,1)){const e=es(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(es(t))}{const n=[];let r=!1;if(Bi(e,((e,t)=>{if("."!==e.substring(0,1)){const i=es(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Io(e,i)))}})),0===n.length)return Xo.EMPTY_NODE;const i=Go(n,Oo,(e=>e.name),Lo);if(r){const e=Go(n,qo.getCompare());return new Xo(i,es(t),new Qo({".priority":e},{".priority":qo}))}return new Xo(i,es(t),Qo.Default)}}!function(e){jo=e}(es);class ts extends ko{constructor(e){super(),this.indexPath_=e,A(!mo(e)&&".priority"!==co(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Ei(e.name,t.name):i}makePost(e,t){const n=es(e),r=Xo.EMPTY_NODE.updateChild(this.indexPath_,n);return new Io(t,r)}maxPost(){const e=Xo.EMPTY_NODE.updateChild(this.indexPath_,Jo);return new Io(bi,e)}toString(){return po(this.indexPath_,0).join("/")}}const ns=new class extends ko{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Ei(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Io.MIN}maxPost(){return Io.MAX}makePost(e,t){const n=es(e);return new Io(t,n)}toString(){return".value"}};function rs(e){return{type:"value",snapshotNode:e}}function is(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function os(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ss(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class as{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){A(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(os(t,s)):A(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(is(t,n)):o.trackChildChange(ss(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(qo,((e,r)=>{t.hasChild(e)||n.trackChildChange(os(e,r))})),t.isLeafNode()||t.forEachChild(qo,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ss(t,r,i))}else n.trackChildChange(is(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Xo.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cs{constructor(e){this.indexedFilter_=new as(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cs.getStartPost_(e),this.endPost_=cs.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Io(t,n))||(n=Xo.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Xo.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Xo.EMPTY_NODE);const i=this;return t.forEachChild(qo,((e,t)=>{i.matches(new Io(e,t))||(r=r.updateImmediateChild(e,Xo.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class ls{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new cs(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Io(t,n))||(n=Xo.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Xo.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Xo.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Xo.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Xo.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;A(s.numChildren()===this.limit_,"");const a=new Io(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:o(u,a);if(l&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(ss(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(os(t,e));const n=s.updateImmediateChild(t,Xo.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(is(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&o(c,a)>=0?(null!=i&&(i.trackChildChange(os(c.name,c.node)),i.trackChildChange(is(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,Xo.EMPTY_NODE)):e}}class us{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qo}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ci}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qo}copy(){const e=new us;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function hs(e){const t={};if(e.isDefault())return t;let n;if(e.index_===qo?n="$priority":e.index_===ns?n="$value":e.index_===So?n="$key":(A(e.index_ instanceof ts,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=W(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=W(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+W(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=W(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+W(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ds(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==qo&&(t.i=e.index_.toString()),t}class ps extends ro{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Ai("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(A(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ps.getListenId_(e,n),s={};this.listens_[o]=s;const a=hs(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),H(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ps.getListenId_(e,t);delete this.listens_[n]}get(e){const t=hs(e._queryParams),n=e._path.toString(),r=new R;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+K(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=z(s.responseText)}catch(e){_i("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&_i("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()}))}}class fs{constructor(){this.rootNode_=Xo.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function gs(){return{value:null,children:new Map}}function ms(e,t,n){if(mo(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=co(t);e.children.has(r)||e.children.set(r,gs()),ms(e.children.get(r),t=uo(t),n)}}function As(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{As(r,new so(t.toString()+"/"+e),n)}))}class vs{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Bi(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class ys{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new vs(e);const n=1e4+2e4*Math.random();Oi(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Bi(e,((e,r)=>{r>0&&V(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Oi(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _s,ws;function Cs(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(ws=_s||(_s={}))[ws.OVERWRITE=0]="OVERWRITE",ws[ws.MERGE=1]="MERGE",ws[ws.ACK_USER_WRITE=2]="ACK_USER_WRITE",ws[ws.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class bs{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=_s.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(mo(this.path)){if(null!=this.affectedTree.value)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new so(e));return new bs(ao(),t,this.revert)}}return A(co(this.path)===e,"operationForChild called for unrelated child."),new bs(uo(this.path),this.affectedTree,this.revert)}}class Es{constructor(e,t){this.source=e,this.path=t,this.type=_s.LISTEN_COMPLETE}operationForChild(e){return mo(this.path)?new Es(this.source,ao()):new Es(this.source,uo(this.path))}}class xs{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=_s.OVERWRITE}operationForChild(e){return mo(this.path)?new xs(this.source,ao(),this.snap.getImmediateChild(e)):new xs(this.source,uo(this.path),this.snap)}}class Is{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=_s.MERGE}operationForChild(e){if(mo(this.path)){const t=this.children.subtree(new so(e));return t.isEmpty()?null:t.value?new xs(this.source,ao(),t.value):new Is(this.source,ao(),t)}return A(co(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Is(this.source,uo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ks{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(mo(e))return this.isFullyInitialized()&&!this.filtered_;const t=co(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Ts{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Bs(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw v("Should only compare child_ events.");const r=new Io(t.childName,t.snapshotNode),i=new Io(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Ss(e,t){return{eventCache:e,serverCache:t}}function Ps(e,t,n,r){return Ss(new ks(t,n,r),e.serverCache)}function Ns(e,t,n,r){return Ss(e.eventCache,new ks(t,n,r))}function Rs(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Os(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ls;class Ms{constructor(e,t=(()=>(Ls||(Ls=new Ro(xi)),Ls))()){this.value=e,this.children=t}static fromObject(e){let t=new Ms(null);return Bi(e,((e,n)=>{t=t.set(new so(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ao(),value:this.value};if(mo(e))return null;{const n=co(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(uo(e),t);return null!=i?{path:go(new so(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(mo(e))return this;{const t=co(e),n=this.children.get(t);return null!==n?n.subtree(uo(e)):new Ms(null)}}set(e,t){if(mo(e))return new Ms(t,this.children);{const n=co(e),r=(this.children.get(n)||new Ms(null)).set(uo(e),t),i=this.children.insert(n,r);return new Ms(this.value,i)}}remove(e){if(mo(e))return this.children.isEmpty()?new Ms(null):new Ms(null,this.children);{const t=co(e),n=this.children.get(t);if(n){const r=n.remove(uo(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Ms(null):new Ms(this.value,i)}return this}}get(e){if(mo(e))return this.value;{const t=co(e),n=this.children.get(t);return n?n.get(uo(e)):null}}setTree(e,t){if(mo(e))return t;{const n=co(e),r=(this.children.get(n)||new Ms(null)).setTree(uo(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Ms(this.value,i)}}fold(e){return this.fold_(ao(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(go(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ao(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(mo(e))return null;{const r=co(e),i=this.children.get(r);return i?i.findOnPath_(uo(e),go(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ao(),t)}foreachOnPath_(e,t,n){if(mo(e))return this;{this.value&&n(t,this.value);const r=co(e),i=this.children.get(r);return i?i.foreachOnPath_(uo(e),go(t,r),n):new Ms(null)}}foreach(e){this.foreach_(ao(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(go(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Ds{constructor(e){this.writeTree_=e}static empty(){return new Ds(new Ms(null))}}function Us(e,t,n){if(mo(t))return new Ds(new Ms(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Ao(i,t);return o=o.updateChild(s,n),new Ds(e.writeTree_.set(i,o))}{const r=new Ms(n),i=e.writeTree_.setTree(t,r);return new Ds(i)}}}function Fs(e,t,n){let r=e;return Bi(n,((e,n)=>{r=Us(r,go(t,e),n)})),r}function js(e,t){if(mo(t))return Ds.empty();{const n=e.writeTree_.setTree(t,new Ms(null));return new Ds(n)}}function zs(e,t){return null!=Ws(e,t)}function Ws(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ao(n.path,t)):null}function qs(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(qo,((e,n)=>{t.push(new Io(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Io(e,n.value))})),t}function Vs(e,t){if(mo(t))return e;{const n=Ws(e,t);return new Ds(null!=n?new Ms(n):e.writeTree_.subtree(t))}}function Hs(e){return e.writeTree_.isEmpty()}function Gs(e,t){return Ys(ao(),e.writeTree_,t)}function Ys(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(A(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ys(go(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(go(e,".priority"),r)),n}}function $s(e,t){return oa(t,e)}function Qs(e,t){if(e.snap)return yo(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&yo(go(e.path,n),t))return!0;return!1}function Ks(e){return e.visible}function Xs(e,t,n){let r=Ds.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)yo(n,e)?(t=Ao(n,e),r=Us(r,t,o.snap)):yo(e,n)&&(t=Ao(e,n),r=Us(r,ao(),o.snap.getChild(t)));else{if(!o.children)throw v("WriteRecord should have .snap or .children");if(yo(n,e))t=Ao(n,e),r=Fs(r,t,o.children);else if(yo(e,n))if(t=Ao(e,n),mo(t))r=Fs(r,ao(),o.children);else{const e=H(o.children,co(t));if(e){const n=e.getChild(uo(t));r=Us(r,ao(),n)}}}}}return r}function Js(e,t,n,r,i){if(r||i){const o=Vs(e.visibleWrites,t);if(!i&&Hs(o))return n;if(i||null!=n||zs(o,ao())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(yo(e.path,t)||yo(t,e.path))};return Gs(Xs(e.allWrites,o,t),n||Xo.EMPTY_NODE)}return null}{const r=Ws(e.visibleWrites,t);if(null!=r)return r;{const r=Vs(e.visibleWrites,t);return Hs(r)?n:null!=n||zs(r,ao())?Gs(r,n||Xo.EMPTY_NODE):null}}}function Zs(e,t,n,r){return Js(e.writeTree,e.treePath,t,n,r)}function ea(e,t){return function(e,t,n){let r=Xo.EMPTY_NODE;const i=Ws(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(qo,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Vs(e.visibleWrites,t);return n.forEachChild(qo,((e,t)=>{const n=Gs(Vs(i,new so(e)),t);r=r.updateImmediateChild(e,n)})),qs(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return qs(Vs(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ta(e,t,n,r){return function(e,t,n,r,i){A(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=go(t,n);if(zs(e.visibleWrites,o))return null;{const t=Vs(e.visibleWrites,o);return Hs(t)?i.getChild(n):Gs(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function na(e,t){return function(e,t){return Ws(e.visibleWrites,t)}(e.writeTree,go(e.treePath,t))}function ra(e,t,n){return function(e,t,n,r){const i=go(t,n),o=Ws(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Gs(Vs(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ia(e,t){return oa(go(e.treePath,t),e.writeTree)}function oa(e,t){return{treePath:e,writeTree:t}}class sa{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;A("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),A(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ss(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,os(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,is(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw v("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ss(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const aa=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ca{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new ks(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ra(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Os(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const c=Vs(e.visibleWrites,t),l=Ws(c,ao());if(null!=l)a=l;else{if(null==n)return[];a=Gs(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let c=n.getNext();for(;c&&e.length<i;)0!==t(c,r)&&e.push(c),c=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function la(e,t,n,r,i,o){const s=t.eventCache;if(null!=na(r,n))return t;{let a,c;if(mo(n))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Os(t),i=ea(r,n instanceof Xo?n:Xo.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=Zs(r,Os(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=co(n);if(".priority"===l){A(1===lo(n),"Can't have a priority with additional path components");const i=s.getNode();c=t.serverCache.getNode();const o=ta(r,n,i,c);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=uo(n);let h;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const e=ta(r,n,s.getNode(),c);h=null!=e?s.getNode().getImmediateChild(l).updateChild(u,e):s.getNode().getImmediateChild(l)}else h=ra(r,l,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),l,h,u,i,o):s.getNode()}}return Ps(t,a,s.isFullyInitialized()||mo(n),e.filter.filtersNodes())}}function ua(e,t,n,r,i,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(mo(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=co(n);if(!c.isCompleteForPath(n)&&lo(n)>1)return t;const i=uo(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),o):u.updateChild(c.getNode(),e,o,i,aa,null)}const h=Ns(t,l,c.isFullyInitialized()||mo(n),u.filtersNodes());return la(e,h,n,i,new ca(i,h,o),a)}function ha(e,t,n,r,i,o,s){const a=t.eventCache;let c,l;const u=new ca(i,t,o);if(mo(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Ps(t,l,!0,e.filter.filtersNodes());else{const i=co(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Ps(t,l,a.isFullyInitialized(),a.isFiltered());else{const o=uo(n),l=a.getNode().getImmediateChild(i);let h;if(mo(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===ho(o)&&e.getChild(fo(o)).isEmpty()?e:e.updateChild(o,r):Xo.EMPTY_NODE}c=l.equals(h)?t:Ps(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function da(e,t){return e.eventCache.isCompleteForChild(t)}function pa(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function fa(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=mo(n)?r:new Ms(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const c=pa(0,t.serverCache.getNode().getImmediateChild(n),r);l=ua(e,l,new so(n),c,i,o,s,a)}})),c.children.inorderTraversal(((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!c){const c=pa(0,t.serverCache.getNode().getImmediateChild(n),r);l=ua(e,l,new so(n),c,i,o,s,a)}})),l}class ga{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new as(n.getIndex()),i=(o=n).loadsAllData()?new as(o.getIndex()):o.hasLimit()?new ls(o):new cs(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,c=r.updateFullNode(Xo.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(Xo.EMPTY_NODE,a.getNode(),null),u=new ks(c,s.isFullyInitialized(),r.filtersNodes()),h=new ks(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Ss(h,u),this.eventGenerator_=new Ts(this.query_)}get query(){return this.query_}}function ma(e,t){const n=Os(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!mo(t)&&!n.getImmediateChild(co(t)).isEmpty())?n.getChild(t):null}function Aa(e){return 0===e.eventRegistrations_.length}function va(e,t,n){const r=[];if(n){A(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function ya(e,t,n,r){t.type===_s.MERGE&&null!==t.source.queryId&&(A(Os(e.viewCache_),"We should always have a full cache before handling merges"),A(Rs(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new sa;let s,a;if(n.type===_s.OVERWRITE){const c=n;c.source.fromUser?s=ha(e,t,c.path,c.snap,r,i,o):(A(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!mo(c.path),s=ua(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===_s.MERGE){const c=n;c.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,c)=>{const l=go(n,r);da(t,co(l))&&(a=ha(e,a,l,c,i,o,s))})),r.foreach(((r,c)=>{const l=go(n,r);da(t,co(l))||(a=ha(e,a,l,c,i,o,s))})),a}(e,t,c.path,c.children,r,i,o):(A(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=fa(e,t,c.path,c.children,r,i,a,o))}else if(n.type===_s.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=na(r,n))return t;{const a=new ca(r,t,i),c=t.eventCache.getNode();let l;if(mo(n)||".priority"===co(n)){let n;if(t.serverCache.isFullyInitialized())n=Zs(r,Os(t));else{const e=t.serverCache.getNode();A(e instanceof Xo,"serverChildren would be complete if leaf node"),n=ea(r,e)}l=e.filter.updateFullNode(c,n,o)}else{const i=co(n);let u=ra(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=null!=u?e.filter.updateChild(c,i,u,uo(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,Xo.EMPTY_NODE,uo(n),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Zs(r,Os(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=na(r,ao()),Ps(t,l,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=na(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(mo(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ua(e,t,n,c.getNode().getChild(n),i,o,a,s);if(mo(n)){let r=new Ms(null);return c.getNode().forEachChild(So,((e,t)=>{r=r.set(new so(e),t)})),fa(e,t,n,r,i,o,a,s)}return t}{let l=new Ms(null);return r.foreach(((e,t)=>{const r=go(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))})),fa(e,t,n,l,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==_s.LISTEN_COMPLETE)throw v("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache;return la(e,Ns(t,o.getNode(),o.isFullyInitialized()||mo(n),o.isFiltered()),n,r,aa,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Rs(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(rs(Rs(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,A(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),A(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),A(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,_a(e,o.changes,o.viewCache.eventCache.getNode(),null)}function _a(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Bs(e,i,"child_removed",t,r,n),Bs(e,i,"child_added",t,r,n),Bs(e,i,"child_moved",o,r,n),Bs(e,i,"child_changed",t,r,n),Bs(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let wa,Ca;class ba{constructor(){this.views=new Map}}function Ea(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return A(null!=o,"SyncTree gave us an op for an invalid query."),ya(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(ya(o,t,n,r));return i}}function xa(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=Zs(n,i?r:null),o=!1;e?o=!0:r instanceof Xo?(e=ea(n,r),o=!1):(e=Xo.EMPTY_NODE,o=!1);const s=Ss(new ks(e,o,!1),new ks(r,i,!1));return new ga(t,s)}return s}function Ia(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ka(e,t){let n=null;for(const r of e.views.values())n=n||ma(r,t);return n}function Ta(e,t){if(t._queryParams.loadsAllData())return Pa(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Ba(e,t){return null!=Ta(e,t)}function Sa(e){return null!=Pa(e)}function Pa(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Na=1;class Ra{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ms(null),this.pendingWriteTree_={visibleWrites:Ds.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Oa(e,t,n,r,i){return function(e,t,n,r,i){A(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Us(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?za(e,new xs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function La(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));A(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Qs(t,r.path)?i=!1:yo(r.path,t.path)&&(o=!0)),s--}return!!i&&(o?(function(e){e.visibleWrites=Xs(e.allWrites,Ks,ao()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0):(r.snap?e.visibleWrites=js(e.visibleWrites,r.path):Bi(r.children,(t=>{e.visibleWrites=js(e.visibleWrites,go(r.path,t))})),!0))}(e.pendingWriteTree_,t)){let t=new Ms(null);return null!=r.snap?t=t.set(ao(),!0):Bi(r.children,(e=>{t=t.set(new so(e),!0)})),za(e,new bs(r.path,t,n))}return[]}function Ma(e,t,n){return za(e,new xs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Da(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Ba(s,t))){const c=function(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Sa(e);if("default"===i)for(const[t,i]of e.views.entries())s=s.concat(va(i,n,r)),Aa(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||o.push(i.query));else{const t=e.views.get(i);t&&(s=s.concat(va(t,n,r)),Aa(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Sa(e)&&o.push(new(A(wa,"Reference.ts has not been loaded"),wa)(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const n=-1!==l.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Sa(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Sa(t))return[Pa(t)];{let e=[];return t&&(e=Ia(t)),Bi(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Va(e,r);e.listenProvider_.startListening(Ka(i),Ha(e,i),o.hashFn,o.onComplete)}}}if(!i&&l.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Ka(t),n)}else l.forEach((t=>{const n=e.queryToTagMap.get(Ga(t));e.listenProvider_.stopListening(Ka(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Ga(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,l)}return a}function Ua(e,t,n,r){const i=Ya(e,r);if(null!=i){const r=$a(i),o=r.path,s=r.queryId,a=Ao(o,t);return Qa(e,o,new xs(Cs(s),a,n))}return[]}function Fa(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Ao(e,i);o=o||ka(t,n),s=s||Sa(t)}));let a,c=e.syncPointTree_.get(i);c?(s=s||Sa(c),o=o||ka(c,ao())):(c=new ba,e.syncPointTree_=e.syncPointTree_.set(i,c)),null!=o?a=!0:(a=!1,o=Xo.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=ka(t,ao());n&&(o=o.updateImmediateChild(e,n))})));const l=Ba(c,t);if(!l&&!t._queryParams.loadsAllData()){const n=Ga(t);A(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Na++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=function(e,t,n,r,i,o){const s=xa(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(qo,((e,t)=>{r.push(is(e,t))})),n.isFullyInitialized()&&r.push(rs(n.getNode())),_a(e,r,n.getNode(),t)}(s,n)}(c,t,n,$s(e.pendingWriteTree_,i),o,a);if(!l&&!s&&!r){const n=Ta(c,t);u=u.concat(function(e,t,n){const r=t._path,i=Ha(e,t),o=Va(e,n),s=e.listenProvider_.startListening(Ka(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)A(!Sa(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!mo(e)&&t&&Sa(t))return[Pa(t).query];{let e=[];return t&&(e=e.concat(Ia(t).map((e=>e.query)))),Bi(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Ka(r),Ha(e,r))}}return s}(e,t,n))}return u}function ja(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=ka(n,Ao(e,t));if(r)return r}));return Js(r,t,i,n,!0)}function za(e,t){return Wa(t,e.syncPointTree_,null,$s(e.pendingWriteTree_,ao()))}function Wa(e,t,n,r){if(mo(e.path))return qa(e,t,n,r);{const i=t.get(ao());null==n&&null!=i&&(n=ka(i,ao()));let o=[];const s=co(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const e=n?n.getImmediateChild(s):null,t=ia(r,s);o=o.concat(Wa(a,c,e,t))}return i&&(o=o.concat(Ea(i,e,r,n))),o}}function qa(e,t,n,r){const i=t.get(ao());null==n&&null!=i&&(n=ka(i,ao()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=ia(r,t),c=e.operationForChild(t);c&&(o=o.concat(qa(c,i,s,a)))})),i&&(o=o.concat(Ea(i,e,r,n))),o}function Va(e,t){const n=t.query,r=Ha(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Xo.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ya(e,n);if(r){const n=$a(r),i=n.path,o=n.queryId,s=Ao(i,t);return Qa(e,i,new Es(Cs(o),s))}return[]}(e,n._path,r):function(e,t){return za(e,new Es({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Da(e,n,null,r)}}}}function Ha(e,t){const n=Ga(t);return e.queryToTagMap.get(n)}function Ga(e){return e._path.toString()+"$"+e._queryIdentifier}function Ya(e,t){return e.tagToQueryMap.get(t)}function $a(e){const t=e.indexOf("$");return A(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new so(e.substr(0,t))}}function Qa(e,t,n){const r=e.syncPointTree_.get(t);return A(r,"Missing sync point for query tag that we're tracking"),Ea(r,n,$s(e.pendingWriteTree_,t),null)}function Ka(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(A(Ca,"Reference.ts has not been loaded"),Ca)(e._repo,e._path):e}class Xa{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Xa(t)}node(){return this.node_}}class Ja{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=go(this.path_,e);return new Ja(this.syncTree_,t)}node(){return ja(this.syncTree_,this.path_)}}const Za=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ec=function(e,t,n){return e&&"object"==typeof e?(A(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?tc(e[".sv"],t,n):"object"==typeof e[".sv"]?nc(e[".sv"],t):void A(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},tc=function(e,t,n){if("timestamp"===e)return n.timestamp;A(!1,"Unexpected server value: "+e)},nc=function(e,t,n){e.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&A(!1,"Unexpected increment value: "+r);const i=t.node();if(A(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},rc=function(e,t,n,r){return oc(t,new Ja(n,e),r)},ic=function(e,t,n){return oc(e,new Xa(t),n)};function oc(e,t,n){const r=e.getPriority().val(),i=ec(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=ec(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new Wo(o,es(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new Wo(i))),r.forEachChild(qo,((e,r)=>{const i=oc(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class sc{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function ac(e,t){let n=t instanceof so?t:new so(t),r=e,i=co(n);for(;null!==i;){const e=H(r.node.children,i)||{children:{},childCount:0};r=new sc(i,r,e),n=uo(n),i=co(n)}return r}function cc(e){return e.node.value}function lc(e,t){e.node.value=t,fc(e)}function uc(e){return e.node.childCount>0}function hc(e,t){Bi(e.node.children,((n,r)=>{t(new sc(n,e,r))}))}function dc(e,t,n,r){n&&!r&&t(e),hc(e,(e=>{dc(e,t,!0,r)})),n&&r&&t(e)}function pc(e){return new so(null===e.parent?e.name:pc(e.parent)+"/"+e.name)}function fc(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===cc(e)&&!uc(e)}(n),i=V(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,fc(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,fc(e))}(e.parent,e.name,e)}const gc=/[\[\].#$\/\u0000-\u001F\u007F]/,mc=/[\[\].#$\u0000-\u001F\u007F]/,Ac=10485760,vc=function(e){return"string"==typeof e&&0!==e.length&&!gc.test(e)},yc=function(e){return"string"==typeof e&&0!==e.length&&!mc.test(e)},_c=function(e,t,n,r){r&&void 0===t||wc(ne(e,"value"),t,n)},wc=function(e,t,n){const r=n instanceof so?new _o(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Co(r));if("function"==typeof t)throw new Error(e+"contains a function "+Co(r)+" with contents = "+t.toString());if(wi(t))throw new Error(e+"contains "+t.toString()+" "+Co(r));if("string"==typeof t&&t.length>Ac/3&&re(t)>Ac)throw new Error(e+"contains a string greater than "+Ac+" utf8 bytes "+Co(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(Bi(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!vc(t)))throw new Error(e+" contains an invalid key ("+t+") "+Co(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=re(t),wo(e)}(r,t),wc(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=re(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Co(r)+" in addition to actual children.")}},Cc=function(e,t,n,r){if(!(r&&void 0===n||yc(n)))throw new Error(ne(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},bc=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cc(e,t,n,r)},Ec=function(e,t){if(".info"===co(t))throw new Error(e+" failed = Can't modify data under /.info/")};class xc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ic(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||vo(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function kc(e,t,n){Ic(e,n),function(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Tc(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,(e=>yo(e,t)||yo(t,e)))}function Tc(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();fi&&mi("event: "+n.toString()),Ri(r)}}}const Bc=25;class Sc{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gs(),this.transactionQueueTree_=new sc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pc(e,t,n){if(e.stats_=$i(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ps(e.repoInfo_,((t,n,r,i)=>{Oc(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Lc(e,!0)),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{W(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new xo(e.repoInfo_,t,((t,n,r,i)=>{Oc(e,t,n,r,i)}),(t=>{Lc(e,t)}),(t=>{!function(e,t){Bi(t,((t,n)=>{Mc(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(t,n){const r=t.toString();return Yi[r]||(Yi[r]=new ys(e.stats_,e.server_)),Yi[r]}(e.repoInfo_),e.infoData_=new fs,e.infoSyncTree_=new Ra({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Ma(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Mc(e,"connected",!1),e.serverSyncTree_=new Ra({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);kc(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Nc(e){const t=e.infoData_.getNode(new so(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Rc(e){return Za({timestamp:Nc(e)})}function Oc(e,t,n,r,i){e.dataUpdateCount++;const o=new so(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=Y(n,(e=>es(e)));s=function(e,t,n,r){const i=Ya(e,r);if(i){const r=$a(i),o=r.path,s=r.queryId,a=Ao(o,t),c=Ms.fromObject(n);return Qa(e,o,new Is(Cs(s),a,c))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=es(n);s=Ua(e.serverSyncTree_,o,t,i)}else if(r){const t=Y(n,(e=>es(e)));s=function(e,t,n){const r=Ms.fromObject(n);return za(e,new Is({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=es(n);s=Ma(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Wc(e,o)),kc(e.eventQueue_,a,s)}function Lc(e,t){Mc(e,"connected",t),!1===t&&function(e){Fc(e,"onDisconnectEvents");const t=Rc(e),n=gs();As(e.onDisconnect_,ao(),((r,i)=>{const o=rc(r,i,e.serverSyncTree_,t);ms(n,r,o)}));let r=[];As(n,ao(),((t,n)=>{r=r.concat(Ma(e.serverSyncTree_,t,n));const i=Yc(e,t);Wc(e,i)})),e.onDisconnect_=gs(),kc(e.eventQueue_,ao(),r)}(e)}function Mc(e,t,n){const r=new so("/.info/"+t),i=es(n);e.infoData_.updateSnapshot(r,i);const o=Ma(e.infoSyncTree_,r,i);kc(e.eventQueue_,r,o)}function Dc(e){return e.nextWriteId_++}function Uc(e,t,n,r,i){Fc(e,"set",{path:t.toString(),value:n,priority:r});const o=Rc(e),s=es(n,r),a=ja(e.serverSyncTree_,t),c=ic(s,a,o),l=Dc(e),u=Oa(e.serverSyncTree_,t,c,l,!0);Ic(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),((n,r)=>{const o="ok"===n;o||_i("set at "+t+" failed: "+n);const s=La(e.serverSyncTree_,l,!o);kc(e.eventQueue_,t,s),function(e,t,n,r){t&&Ri((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}(0,i,n,r)}));const h=Yc(e,t);Wc(e,h),kc(e.eventQueue_,h,[])}function Fc(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),mi(n,...t)}function jc(e,t,n){return ja(e.serverSyncTree_,t,n)||Xo.EMPTY_NODE}function zc(e,t=e.transactionQueueTree_){if(t||Gc(e,t),cc(t)){const n=Vc(e,t);A(n.length>0,"Sending zero length transaction queue"),n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=jc(e,t,r);let o=i;const s=i.hash();for(let e=0;e<n.length;e++){const r=n[e];A(0===r.status,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=1,r.retryCount++;const i=Ao(t,r.path);o=o.updateChild(i,r.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,(r=>{Fc(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(La(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Gc(e,ac(e.transactionQueueTree_,t)),zc(e,e.transactionQueueTree_),kc(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Ri(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{_i("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Wc(e,t)}}),s)}(e,pc(t),n)}else uc(t)&&hc(t,(t=>{zc(e,t)}))}function Wc(e,t){const n=qc(e,t),r=pc(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)).map((e=>e.currentWriteId));for(let a=0;a<t.length;a++){const c=t[a],l=Ao(n,c.path);let u,h=!1;if(A(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(La(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Bc)h=!0,u="maxretry",i=i.concat(La(e.serverSyncTree_,c.currentWriteId,!0));else{const n=jc(e,c.path,o);c.currentInputSnapshot=n;const r=t[a].update(n.val());if(void 0!==r){wc("transaction failed: Data returned ",r,c.path);let t=es(r);"object"==typeof r&&null!=r&&V(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=c.currentWriteId,a=Rc(e),l=ic(t,n,a);c.currentOutputSnapshotRaw=t,c.currentOutputSnapshotResolved=l,c.currentWriteId=Dc(e),o.splice(o.indexOf(s),1),i=i.concat(Oa(e.serverSyncTree_,c.path,l,c.currentWriteId,c.applyLocally)),i=i.concat(La(e.serverSyncTree_,s,!0))}else h=!0,u="nodata",i=i.concat(La(e.serverSyncTree_,c.currentWriteId,!0))}kc(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===u?r.push((()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot))):r.push((()=>t[a].onComplete(new Error(u),!1,null)))))}var s;Gc(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)Ri(r[e]);zc(e,e.transactionQueueTree_)}(e,Vc(e,n),r),r}function qc(e,t){let n,r=e.transactionQueueTree_;for(n=co(t);null!==n&&void 0===cc(r);)r=ac(r,n),n=co(t=uo(t));return r}function Vc(e,t){const n=[];return Hc(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Hc(e,t,n){const r=cc(t);if(r)for(let e=0;e<r.length;e++)n.push(r[e]);hc(t,(t=>{Hc(e,t,n)}))}function Gc(e,t){const n=cc(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,lc(t,n.length>0?n:void 0)}hc(t,(t=>{Gc(e,t)}))}function Yc(e,t){const n=pc(qc(e,t)),r=ac(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{$c(e,t)})),$c(e,r),dc(r,(t=>{$c(e,t)})),n}function $c(e,t){const n=cc(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(A(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(A(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(La(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?lc(t,void 0):n.length=o+1,kc(e.eventQueue_,pc(t),i);for(let e=0;e<r.length;e++)Ri(r[e])}}const Qc=function(e,t){const n=Kc(e),r=n.namespace;"firebase.com"===n.domain&&yi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||yi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_i("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new qi(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new so(n.pathString)}},Kc=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_i(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},Xc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Jc=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=Xc.charAt(n%64),n=Math.floor(n/64);A(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=Xc.charAt(t[i]);return A(20===s.length,"nextPushId: Length should be 20."),s}}();class Zc{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+W(this.snapshot.exportVal())}}class el{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tl{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class nl{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return mo(this._path)?null:ho(this._path)}get ref(){return new rl(this._repo,this._path)}get _queryIdentifier(){const e=ds(this._queryParams),t=ki(e);return"{}"===t?"default":t}get _queryObject(){return ds(this._queryParams)}isEqual(e){if(!((e=ie(e))instanceof nl))return!1;const t=this._repo===e._repo,n=vo(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class rl extends nl{constructor(e,t){super(e,t,new us,!1)}get parent(){const e=fo(this._path);return null===e?null:new rl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class il{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new so(e),n=sl(this.ref,e);return new il(this._node.getChild(t),n,qo)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,((t,n)=>e(new il(n,sl(this.ref,t),qo))))}hasChild(e){const t=new so(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ol(e,t){return(e=ie(e))._checkNotDeleted("ref"),void 0!==t?sl(e._root,t):e._root}function sl(e,t){return null===co((e=ie(e))._path)?bc("child","path",t,!1):Cc("child","path",t,!1),new rl(e._repo,go(e._path,t))}function al(e,t){e=ie(e),Ec("push",e._path),_c("push",t,e._path,!0);const n=Nc(e._repo),r=Jc(n),i=sl(e,r),o=sl(e,r);let s;return s=null!=t?cl(o,t).then((()=>o)):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function cl(e,t){e=ie(e),Ec("set",e._path),_c("set",t,e._path,!1);const n=new R;return Uc(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function ll(e){e=ie(e);const t=new tl((()=>{})),n=new ul(t);return function(e,t,n){const r=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Ao(e,n);r=r||ka(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||ka(i,ao()):(i=new ba,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new ks(r,!0,!1):null;return Rs(xa(i,t,$s(e.pendingWriteTree_,t._path),o?s.getNode():Xo.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=es(r).withIndex(t._queryParams.getIndex());let o;if(Fa(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=Ma(e.serverSyncTree_,t._path,i);else{const n=Ha(e.serverSyncTree_,t);o=Ua(e.serverSyncTree_,t._path,i,n)}return kc(e.eventQueue_,t._path,o),Da(e.serverSyncTree_,t,n,null,!0),i}),(n=>(Fc(e,"get for query "+W(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new il(t,new rl(e._repo,e._path),e._queryParams.getIndex())))}class ul{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Zc("value",this,new il(e.snapshotNode,new rl(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new el(this,e,t):null}matches(e){return e instanceof ul&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}!function(e){A(!wa,"__referenceConstructor has already been defined"),wa=e}(rl),function(e){A(!Ca,"__referenceConstructor has already been defined"),Ca=e}(rl);const hl={};function dl(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||yi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mi("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,c=Qc(o,i),l=c.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o=`http://${a}?ns=${l.namespace}`,c=Qc(o,i),l=c.repoInfo):s=!c.repoInfo.secure;const u=i&&s?new Di(Di.OWNER):new Mi(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!vc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yc(e)}(n))throw new Error(ne(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",c),mo(c.path)||yi("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=hl[t.name];i||(i={},hl[t.name]=i);let o=i[e.toURLString()];return o&&yi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Sc(e,false,n,r),i[e.toURLString()]=o,o}(l,e,u,new Li(e.name,n));return new pl(h,e)}class pl{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Pc(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rl(this._repo,ao())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=hl[t];n&&n[e.key]===e||yi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&yi("Cannot call "+e+" on a deleted database.")}}xo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},ii=Ge,We(new oe("database",((e,{instanceIdentifier:t})=>dl(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t)),"PUBLIC").setMultipleInstances(!0)),Qe(ni,ri,void 0),Qe(ni,ri,"esm2017");const fl="firebasestorage.googleapis.com",gl="storageBucket";class ml extends U{constructor(e,t,n=0){super(yl(e),`Firebase Storage: ${t} (${yl(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ml.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yl(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Al,vl;function yl(e){return"storage/"+e}function _l(){return new ml(Al.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function wl(e){return new ml(Al.INVALID_ARGUMENT,e)}function Cl(){return new ml(Al.APP_DELETED,"The Firebase app was deleted.")}function bl(e,t){return new ml(Al.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function El(e){throw new ml(Al.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Al||(Al={}));class xl{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=xl.makeFromUrl(e,t)}catch(t){return new xl(e,"")}if(""===n.path)return n;throw r=e,new ml(Al.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===fl?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let t=0;t<a.length;t++){const r=a[t],i=r.regex.exec(e);if(i){const e=i[r.indices.bucket];let t=i[r.indices.path];t||(t=""),n=new xl(e,t),r.postModify(n);break}}if(null==n)throw function(e){return new ml(Al.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Il{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kl(e){return"string"==typeof e||e instanceof String}function Tl(e){return Bl()&&e instanceof Blob}function Bl(){return"undefined"!=typeof Blob}function Sl(e,t,n,r){if(r<t)throw wl(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw wl(`Invalid value for '${e}'. Expected ${n} or less.`)}function Pl(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Nl(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(vl||(vl={}));class Rl{constructor(e,t,n,r,i,o,s,a,c,l,u,h=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==i){const e=_l();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else t.canceled?r(this.appDelete_?Cl():new ml(Al.CANCELED,"User canceled the upload/download.")):r(new ml(Al.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new Ol(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(p,c())}),t)}function d(){o&&clearTimeout(o)}function p(e,...t){if(l)return void d();if(e)return d(),void u.call(null,e,...t);if(c()||s)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let f=!1;function g(e){f||(f=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,g(!0)}),n),g}(((e,t)=>{if(t)return void e(!1,new Ol(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===vl.NO_ERROR,i=n.getStatus();if(!t||function(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===vl.ABORT;return void e(!1,new Ol(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Ol(o,n))}))}),e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ol{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Ll(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ml(...e){const t=Ll();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(Bl())return new Blob(e);throw new ml(Al.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Dl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ul{constructor(e,t){this.data=e,this.contentType=t||null}}function Fl(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function jl(e,t){switch(e){case Dl.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw bl(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Dl.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw bl(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(e){if("undefined"==typeof atob)throw new ml(Al.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw bl(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class zl{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw bl(Dl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){return!!(e.length>=7)&&e.substring(e.length-7)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Wl{constructor(e,t){let n=0,r="";Tl(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Tl(this.data_)){const o=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===o?null:new Wl(o)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Wl(n,!0)}}static getBlob(...e){if(Bl()){const t=e.map((e=>e instanceof Wl?e.data_:e));return new Wl(Ml.apply(null,t))}{const t=e.map((e=>kl(e)?function(e,t){switch(e){case Dl.RAW:return new Ul(Fl(t));case Dl.BASE64:case Dl.BASE64URL:return new Ul(jl(e,t));case Dl.DATA_URL:return new Ul(function(e){const t=new zl(e);return t.base64?jl(Dl.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(e){throw bl(Dl.DATA_URL,"Malformed data URL.")}return Fl(t)}(t.rest)}(t),new zl(t).contentType)}throw _l()}(Dl.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Wl(r,!0)}}uploadData(){return this.data_}}function ql(e){let t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t;var n}function Vl(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Hl(e,t){return t}class Gl{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Hl}}let Yl=null;function $l(){if(Yl)return Yl;const e=[];e.push(new Gl("bucket")),e.push(new Gl("generation")),e.push(new Gl("metageneration")),e.push(new Gl("name","fullPath",!0));const t=new Gl("name");t.xform=function(e,t){return function(e){return!kl(e)||e.length<2?e:Vl(e)}(t)},e.push(t);const n=new Gl("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Gl("timeCreated")),e.push(new Gl("updated")),e.push(new Gl("md5Hash",null,!0)),e.push(new Gl("cacheControl",null,!0)),e.push(new Gl("contentDisposition",null,!0)),e.push(new Gl("contentEncoding",null,!0)),e.push(new Gl("contentLanguage",null,!0)),e.push(new Gl("contentType",null,!0)),e.push(new Gl("metadata","customMetadata",!0)),Yl=e,Yl}function Ql(e,t,n){const r=ql(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let e=0;e<i;e++){const i=n[e];r[i.local]=i.xform(r,t[i.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new xl(n,r);return t._makeStorageReference(i)}})}(r,e),r}(e,r,n)}class Kl{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xl(e){if(!e)throw _l()}function Jl(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new ml(Al.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new ml(Al.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new ml(Al.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new ml(Al.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Zl(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=function(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Wl.getBlob(l,r,u);if(null===h)throw new ml(Al.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const d={name:c.fullPath},p=Pl(o,e.host,e._protocol),f=e.maxUploadRetryTime,g=new Kl(p,"POST",function(e,t){return function(n,r){const i=Ql(e,r,t);return Xl(null!==i),i}}(e,n),f);return g.urlParams=d,g.headers=s,g.body=h.uploadData(),g.errorHandler=Jl(t),g}let eu=null;class tu{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vl.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=vl.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=vl.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw El("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const e in r)r.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,r[e].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw El("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw El("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw El("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw El("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class nu extends tu{initXhr(){this.xhr_.responseType="text"}}function ru(){return eu?eu():new nu}class iu{constructor(e,t){this._service=e,this._location=t instanceof xl?t:xl.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new iu(e,t)}get root(){const e=new xl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vl(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new xl(this._location.bucket,e);return new iu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new ml(Al.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ou(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Pl(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new Kl(r,"GET",function(e,t){return function(n,r){const i=Ql(e,r,t);return Xl(null!==i),function(e,t,n,r){const i=ql(t);if(null===i)return null;if(!kl(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Pl("/b/"+s(i)+"/o/"+s(o),n,r)+Nl({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}(e,n),i);return o.errorHandler=function(e){const t=Jl(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new ml(Al.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}(t),o}(e.storage,e._location,$l());return e.storage.makeRequestWithTokens(t,ru).then((e=>{if(null===e)throw new ml(Al.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function su(e,t){if(e instanceof cu){const n=e;if(null==n._bucket)throw new ml(Al.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gl+"' property when initializing the app?");const r=new iu(n,n._bucket);return null!=t?su(r,t):r}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new xl(e._location.bucket,n);return new iu(e.storage,r)}(e,t):e}function au(e,t){const n=null==t?void 0:t[gl];return null==n?null:xl.makeFromBucketSpec(n,e)}class cu{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=fl,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?xl.makeFromBucketSpec(r,this._host):au(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=xl.makeFromBucketSpec(this._url,e):this._bucket=au(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Sl("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Sl("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new iu(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new Il(Cl());{const o=function(e,t,n,r,i,o,s=!0){const a=Nl(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(l,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Rl(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const lu="@firebase/storage",uu="0.12.0",hu="storage";function du(e,t,n){return function(e,t,n){e._throwIfRoot("uploadBytes");const r=Zl(e.storage,e._location,$l(),new Wl(t,!0),n);return e.storage.makeRequestWithTokens(r,ru).then((t=>({metadata:t,ref:e})))}(e=ie(e),t,n)}function pu(e){return ou(e=ie(e))}function fu(e,t){return function(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof cu)return new iu(e,t);throw wl("To use ref(service, url), the first argument must be a Storage instance.")}return su(e,t)}(e=ie(e),t)}We(new oe(hu,(function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new cu(n,r,i,t,Ge)}),"PUBLIC").setMultipleInstances(!0)),Qe(lu,uu,""),Qe(lu,uu,"esm2017"),Qe("firebase","10.7.1","app");const gu=Ye({apiKey:"AIzaSyArmyBM0BSjKEe9_v_9DUjpxv4fb6w7uZM",authDomain:"culture-api-83eae.firebaseapp.com",databaseURL:"https://culture-api-83eae-default-rtdb.firebaseio.com",projectId:"culture-api-83eae",storageBucket:"culture-api-83eae.appspot.com",messagingSenderId:"336822166213",appId:"1:336822166213:web:e777f47b586261b55646ac",measurementId:"G-Y98YQ776CQ"});function mu(e){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(e)}function Au(){Au=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==mu(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(mu(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){var r,i,o;r=e,i=t,o=n[t],i=function(e){var t=function(e,t){if("object"!=mu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mu(t)?t:String(t)}(i),i in r?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _u(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function wu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){_u(o,r,i,s,a,"next",e)}function a(e){_u(o,r,i,s,a,"throw",e)}s(void 0)}))}}var Cu=function(e=$e(),t){const n=qe(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=S("database");e&&function(e,t,n,r={}){(e=ie(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&yi("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&yi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Di(Di.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:O(r.mockUserToken,e.app.options.projectId);o=new Di(t)}!function(e,t,n,r){e.repoInfo_=new qi(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}(gu),bu=function(e=$e(),t){const n=qe(e=ie(e),hu).getImmediate({identifier:t}),r=S("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:O(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(gu),Eu=function(){var e=wu(Au().mark((function e(t){var n,r,i;return Au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=ol(Cu,"culture"),e.next=4,ll(sl(n,"/"));case 4:return r=e.sent,i=[],r.exists()&&r.forEach((function(e){var t=yu(yu({id:e.key},e.val().location),e.val());i.push(t)})),t&&t(i),e.abrupt("return",i);case 11:throw e.prev=11,e.t0=e.catch(0),console.error("Error getting culture data:",e.t0.message),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),xu=function(){var e=wu(Au().mark((function e(t,n){var r,i,o;return Au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=ol(Cu,"culture/".concat(t)),e.next=4,ll(r);case 4:if(!(i=e.sent).exists()){e.next=9;break}return o=yu(yu({id:i.key},i.val().location),i.val()),n&&n(o),e.abrupt("return",o);case 9:return console.error("No such document!"),e.abrupt("return",null);case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error getting culture data by ID:",e.t0.message),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),Iu=function(){var e=wu(Au().mark((function e(t,n){var r,i,o,s,a;return Au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=fu(bu,"culture/".concat(t,"/review_images")),i=(new Date).getTime(),o="review_image_".concat(i),s=fu(r,o),e.next=7,du(s,n);case 7:return e.next=9,pu(s);case 9:return a=e.sent,e.abrupt("return",a);case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Error uploading review image:",e.t0.message),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),ku=function(){var e=wu(Au().mark((function e(t,n){var r,i,o,s;return Au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Iu(t,n.reviewImageFile);case 3:return r=e.sent,i={addPicture:r,comment:n.comment,name:n.name},o=ol(Cu,"culture/".concat(t,"/review")),s=al(o),e.next=9,cl(s,i);case 9:console.log("Review added successfully"),e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.error("Error adding review:",e.t0.message),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}();function Tu(e){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(e)}function Bu(){Bu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Tu(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Tu(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Su(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function Pu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Su(o,r,i,s,a,"next",e)}function a(e){Su(o,r,i,s,a,"throw",e)}s(void 0)}))}}n(90),n(770);var Nu={render:function(){return Pu(Bu().mark((function e(){return Bu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n    <section>\n      <section class="home">\n        <img class="home-img" src="./images/home.png" alt="">\n        <section class="weather">\n        <h2 class="weather-title"> <span id="locationName"></span></h2>\n        <div id="weatherInfo" class="weather-info"></div>\n      </section>\n      \n        <section class="home-inner">\n          <h1 class="home-title">Explore Cultural Tourism in Indonesia</h1>\n          <p class="home-ket">\n            Let\'s uncover the charm of Indonesia through an exciting journey to cultural heritage sites rich in history and beauty!\n          </p>\n        </section>\n      </section>\n      <section class="search" id="search" tabindex="0">\n        <p>Search for the cultural tourism you desire.</p>\n        <form id="searchForm">\n          <input type="text" id="searchInput" name="searchInput" placeholder="Type here...">\n          <button type="submit">Search</button>\n        </form>\n      </section>\n      <section class="menu-label">\n        <h1 class="label-title"> Explore Cultural Tourism </h1>\n        <article id="culture-list" class="culture-list"></article>\n      </section>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){var e=this;return Pu(Bu().mark((function t(){var n,r,i,o;return Bu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.prev=1,t.next=4,Ru();case 4:n=t.sent,console.log("User is authenticated:",n),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),alert("Login terlebih dahulu"),console.error("Authentication error:",t.t0),window.location.href="/#/signin";case 13:return Eu((function(t){e.updateCultureList(t)})),(r=document.getElementById("searchForm"))&&r.addEventListener("submit",function(){var t=Pu(Bu().mark((function t(n){var r,i;return Bu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=document.getElementById("searchInput"),i=r.value.trim().toLowerCase(),t.next=5,e.handleSearch(i);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(i=document.querySelector(".landing-head"))&&(i.style.display="none"),(o=document.querySelector(".heading"))&&(o.style.display="flex"),t.next=22,e.handleWeatherData();case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(0),console.error("Error fetching data:",t.t1);case 27:case"end":return t.stop()}}),t,null,[[0,24],[1,8]])})))()},handleWeatherData:function(){var e=this;return Pu(Bu().mark((function t(){return Bu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(){var t=Pu(Bu().mark((function t(n){var r,i,o,s,a;return Bu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=n.coords,i=r.latitude,o=r.longitude,t.next=4,e.getCityName(i,o,"dbe5889baa9a6b2e6fbb81ec46c1cd96");case 4:return s=t.sent,document.getElementById("locationName").textContent=s,t.next=8,e.fetchWeatherData(i,o);case 8:a=t.sent,e.displayWeatherData(a),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Error getting weather data:",t.t0),e.displayWeatherError();case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),(function(t){console.error("Error getting geolocation:",t),e.displayWeatherError()})):(console.error("Geolocation is not supported."),e.displayWeatherError())}catch(t){console.error("Error handling weather data:",t),e.displayWeatherError()}case 1:case"end":return t.stop()}}),t)})))()},updateCultureList:function(e){var t=e.sort((function(e,t){return e.name.localeCompare(t.name)})),n=document.getElementById("culture-list"),r=t.map((function(e){return'\n      <section class="culture-card">\n        <article class="culture-item">\n         <a href="#/detail/'.concat(e.id,'">\n          <img class="lazyload" data-src="').concat(e.picture,'" alt="').concat(e.name,' Picture" class="culture-picture">\n        </a>\n        </article>\n        <article class="culture-descript">\n        <a href="#/detail/').concat(e.id,'">\n          <h2>').concat(e.name,"</h2>\n          <p>").concat(e.description,"</p>\n        </a>\n        </article>\n      </section>\n    ")})).join("");n.innerHTML=r},handleSearch:function(e){var t=this;return Pu(Bu().mark((function n(){return Bu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{Eu((function(n){var r=n.filter((function(t){return t.name.toLowerCase().includes(e)}));r.length>0?t.updateCultureList(r):t.displayNoResultsMessage()}))}catch(e){console.error("Error handling search:",e)}case 1:case"end":return n.stop()}}),n)})))()},displayNoResultsMessage:function(){document.getElementById("culture-list").innerHTML='<p class="no-results-message">No matching data found.</p>'},fetchWeatherData:function(e,t){return Pu(Bu().mark((function n(){var r,i,o;return Bu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=dbe5889baa9a6b2e6fbb81ec46c1cd96"),n.next=4,fetch(r);case 4:return i=n.sent,n.next=7,i.json();case 7:return o=n.sent,n.abrupt("return",o);case 11:throw n.prev=11,n.t0=n.catch(0),console.error("Error fetching weather data:",n.t0),n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))()},displayWeatherData:function(e){var t=document.getElementById("weatherInfo");if(e&&e.weather&&e.main){var n=Math.round(e.main.temp-273.15),r=e.weather[0].description,i=e.weather[0].icon,o='\n        <div class="weather-icon">\n          <img src="https://openweathermap.org/img/w/'.concat(i,'.png" alt="Weather Icon">\n        </div>\n        <div class="weather-details">\n          <p class="temperature">').concat(n,'°C</p>\n          <p class="description">').concat(r,"</p>\n        </div>\n      ");t.innerHTML=o}else this.displayWeatherError()},displayWeatherError:function(){document.getElementById("weatherInfo").innerHTML='<p class="error-message">Failed to get weather data.</p>'},getCityName:function(e,t,n){return Pu(Bu().mark((function r(){var i,o,s;return Bu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(n),r.next=4,fetch(i);case 4:return o=r.sent,r.next=7,o.json();case 7:if(!(s=r.sent).name){r.next=10;break}return r.abrupt("return",s.name);case 10:throw new Error("City name not found.");case 13:throw r.prev=13,r.t0=r.catch(0),console.error("Error in fetching city name:",r.t0),r.t0;case 17:case"end":return r.stop()}}),r,null,[[0,13]])})))()}};document.querySelector("footer").style.display="block";var Ru=function(){var e=ei(gu);return new Promise((function(t,n){!function(e,r,i,o){ie(e).onAuthStateChanged((function(e){e?t(e):n(new Error("User is not authenticated"))}),void 0,void 0)}(e)}))};const Ou=Nu;var Lu;function Mu(e){return Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mu(e)}function Du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uu(r.key),r)}}function Uu(e){var t=function(e,t){if("object"!=Mu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Mu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Mu(t)?t:String(t)}!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Lu||(Lu={}));var Fu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"loadGoogleMapsApi",value:function(){return new Promise((function(e,t){if(window.google&&window.google.maps)e(window.google.maps);else{var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBwuxRVJSQp_F79qM0zH1rCIEY6pMzUXY0&libraries=places&callback=initMap",n.defer=!0,n.async=!0,window.initMap=function(){e(google.maps)},n.onerror=function(){t(new Error("Failed to load Google Maps API."))},document.head.appendChild(n)}}))}},{key:"createMap",value:function(e,t,n){var r=n.latitude,i=n.longitude,o=new e.Map(t,{center:{lat:parseFloat(r),lng:parseFloat(i)},zoom:8});return new e.Marker({position:{lat:parseFloat(r),lng:parseFloat(i)},map:o,title:n.name}),o}}],null&&Du(t.prototype,null),n&&Du(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const ju=Fu;function zu(e){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(e)}function Wu(){Wu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==zu(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(zu(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function qu(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function Vu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){qu(o,r,i,s,a,"next",e)}function a(e){qu(o,r,i,s,a,"throw",e)}s(void 0)}))}}function Hu(e){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(e)}function Gu(){Gu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Hu(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Hu(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Yu(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function $u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Yu(o,r,i,s,a,"next",e)}function a(e){Yu(o,r,i,s,a,"throw",e)}s(void 0)}))}}var Qu={render:function(){return $u(Gu().mark((function e(){return Gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n    <article class="hero">\n        <img class="hero-image" src="./images/landing1.png" alt="hero image">\n        <h2 class="hero-bold">Explore Culture, <br>Embrace Diversity</h2>\n        <p class="hero-desc">Our platform is your gateway to immersive experiences, connecting you with the heart and soul of diverse cultures. From ancient rituals to modern expressions, join us in celebrating the beauty and depth of cultural wonders. Explore, learn, and create lasting memories that transcend borders. Your journey to cultural discovery begins here!</p>\n    </article>\n    \n    <article class="benefits">\n        <h2 class="title">Benefits</h2>\n        <p class="benefits-text">The benefits to be gained from this platform.</p>\n        <article class="benefits-items">\n        <section>\n            <img class="benefits-icon" src="../images/culture.png" alt="">\n            <h3 class="benefits-item">Explore Cultural Tourism!</h3>\n            <p class="benefits-desc">Plan your next trip more thoroughly using this platform. All the information you\'re looking for is right here.</p>\n        </section>\n        <section>\n            <img class="benefits-icon" src="../images/map.png" alt="">\n            <h3 class="benefits-item">Discover the route!</h3>\n            <p class="benefits-desc">Get information about the travel route to your destination quickly and without getting lost. Make your journey more comfortable</p>\n        </section>\n        <section>\n            <img class="benefits-icon" src="../images/review.png" alt="">\n            <h3 class="benefits-item">Traveler Reviews!</h3>\n            <p class="benefits-desc">Discover reviews from travelers who have visited the place before. Check out their comments to make you more confident about visiting it.</p>\n        </section>\n    </article>\n    </article>\n    \n    <article class="summary">\n        <h2 class="title" id="summary-title">Culture of Indonesia</h2>\n        <section class="summary-items">\n            <img class="summary-img" src="../images/indonesia.png" alt="">\n            <p class="summary-desc">Indonesia has a highly diverse cultural tourism, spread from Sabang to Merauke. This cultural heritage must be preserved. The existence of this platform can assist tourists in finding information about cultural attractions they can visit. Of course, it can also introduce Indonesian cultural tourism to the world.</p>\n        </section>\n    </article>\n    \n    <article class="about">\n        <section class="about-items">\n            <img class="about-img" src="../images/landing2.png" alt="">\n            <section class="about-grid">\n                <h2 class="about-title">About Cultural Voyager</h2>\n                <p class="about-desc">Cultural Voyager is a website dedicated to recommendations for cultural tourism in Indonesia. This website promotes cultural tourism to be better known by both local and foreign tourists. Within this website, there will be a list of cultural attractions such as Borobudur Temple, Prambanan Temple, and other lesser-known cultural destinations.</p>\n            </section>\n        </section>\n    </article>\n    ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return $u(Gu().mark((function e(){var t,n,r;return Gu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(t=document.querySelector(".heading"))&&(t.style.display="none"),document.querySelector("footer").style.display="block",(n=document.querySelector(".landing-head"))&&(n.style.display="flex"),(r=document.getElementById("loginButton"))&&r.addEventListener("click",(function(){window.location.href="#/signin"}))}catch(e){console.error("Error:",e)}case 1:case"end":return e.stop()}}),e)})))()}};function Ku(e){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(e)}function Xu(){Xu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Ku(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ku(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Ju(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function Zu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Ju(o,r,i,s,a,"next",e)}function a(e){Ju(o,r,i,s,a,"throw",e)}s(void 0)}))}}var eh={render:function(){return Zu(Xu().mark((function e(){var t;return Xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector("header").style.display="none",(t=document.querySelector(".landing-head"))?t.style.display="none":console.error("Elemen dengan kelas 'landing-head' tidak ditemukan."),document.querySelector("footer").style.display="none",e.abrupt("return",'\n    <section class="signin">\n  <div class="container">\n    <div class="signin-image"></div>\n    <div class="form">\n      <form id="signin-form">\n        <div class="signin-header">\n          <h1>Sign In</h1>\n          <p>Let’s get started with us!</p>\n        </div>\n        <div class="input-container">\n          <input type="text" id="email" name="email" required />\n          <label for="email">Email</label>\n        </div>\n        <div class="input-container">\n          <input type="password" id="password" name="password" required />\n          <label for="password">Password</label>\n        </div>\n        <button class="signin-btn" type="submit">Sign In</button>\n        <div class="akun">Tidak punya akun? <a href="#/register">Register</a></div>\n      </form>\n    </div>\n  </div>\n</section>\n\n    ');case 7:case"end":return e.stop()}}),e)})))()},afterRender:function(){return Zu(Xu().mark((function e(){return Xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("signin-form").addEventListener("submit",function(){var e=Zu(Xu().mark((function e(t){var n,r,i;return Xu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("email").value,r=document.getElementById("password").value,i=ei(gu),e.prev=4,e.next=7,Gn(i,n,r);case 7:e.sent.user.emailVerified?(alert("Sukses Login"),window.location.href="/#/home"):alert("akun kamu belum terverifikasi silahkan cek email kamu"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),alert(e.t0.message),console.error("Login error:",e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()}};function th(e){return th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(e)}function nh(){nh=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==th(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(th(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function rh(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function ih(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){rh(o,r,i,s,a,"next",e)}function a(e){rh(o,r,i,s,a,"throw",e)}s(void 0)}))}}var oh={render:function(){return ih(nh().mark((function e(){var t;return nh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelector("header").style.display="none",(t=document.querySelector(".landing-head"))?t.style.display="none":console.error("Elemen dengan kelas 'landing-head' tidak ditemukan."),document.querySelector("footer").style.display="none",e.abrupt("return",'\n    <section class="register">\n    <div class="container">\n      <div class="register-image"></div>\n      <div class="form">\n        <form id="register-form">\n          <div class="signin-header">\n            <h1>Register</h1>\n            <p>Create your account!</p>\n          </div>\n          <div class="input-container">\n            <input type="text" id="username" name="username" required />\n            <label for="username">Username</label>\n          </div>\n          <div class="input-container">\n            <input type="email" id="email" name="email" required />\n            <label for="email">Email</label>\n          </div>\n          <div class="input-container">\n            <input type="password" id="password" name="password" required />\n            <label for="password">Password</label>\n          </div>\n          <button class="register-button" type="submit">Register</button>\n        </form>\n        <p class="akun">Already have an account? <a href="#/signin">Sign in</a></p>\n      </div>\n    </div>\n  </section>\n  \n      ');case 7:case"end":return e.stop()}}),e)})))()},afterRender:function(){return ih(nh().mark((function e(){return nh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("register-form").addEventListener("submit",function(){var e=ih(nh().mark((function e(t){var n,r,i,o,s;return nh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("username").value,r=document.getElementById("password").value,i=document.getElementById("email").value,o=ei(gu),e.prev=5,e.next=8,Hn(o,i,r);case 8:return s=e.sent,e.next=11,Yn(s.user);case 11:return e.next=13,$n(s.user,{username:n});case 13:alert("registered"),console.log("User registered:",s.user),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),alert(e.t0.message),console.error("Registration error:",e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()}};const sh={"/":Qu,"/landing":Qu,"/home":Ou,"/detail/:id":{render:function(){return Vu(Wu().mark((function e(){return Wu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n    <section id="detail-culture" class="detail-culture">\n      <h2>Loading...</h2>\n    </section>\n    <section id="reviewForm" class="review-form">\n      <h2>Add Review</h2>\n      <form id="reviewForm">\n        <input type="text" id="reviewerName" placeholder="Name">\n        <textarea id="reviewContent" placeholder="Your Review"></textarea>\n        <label for="reviewImage" class="custom-file-input"><img class="home-img" src="./images/upphoto.png" alt="">\n        <p>Choose Image</p></label>\n        <input type="file" id="reviewImage" accept="image/*" />\n        <img id="uploadedImage" src="" alt="Uploaded Image" style="display: none;" />\n        \n       \n        <button id="submitReview">Submit Review</button>\n      </form>\n    </section>\n      ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){return Vu(Wu().mark((function e(){var t,n,r,i,o,s,a,c,l,u,h,d;return Wu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.parseActiveUrlWithoutCombinerWithoutLower(),n=t.id,e.prev=2,r=document.getElementById("detail-culture"),e.next=6,xu(n);case 6:if(!(i=e.sent)){e.next=26;break}return r.innerHTML='\n        <section class="detail">\n      <article class="detail-head">\n        <h2 class="detai-title">'.concat(i.name,'</h2>\n        <img class="lazyload" data-src="').concat(i.picture,'" alt="').concat(i.name,'" />\n      </article>\n      <article class="detail-info">\n        <h4>Address</h4>\n        <p>').concat(i.address,"</p>\n        <h4>City</h4>\n        <p>").concat(i.city,'</p>\n      </article>\n    </section>\n\n    <section class="detail-desc">\n      <h4>Description</h4>\n      <p>').concat(i.description,'</p>\n      <h4 class="location">Location</h4>\n      <div id="map"></div>\n    </section>\n    \n\n    <section id="reviews-section">\n        <h2>Reviews</h2>\n        <ul id="reviews-list"></ul>\n      </section>\n    '),o=document.getElementById("map"),e.prev=10,e.next=13,ju.loadGoogleMapsApi();case 13:s=e.sent,ju.createMap(s,o,i.location),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(10),console.error("Error loading Google Maps API:",e.t0.message);case 20:a=document.getElementById("reviews-section"),c=document.getElementById("reviews-list"),(l=i.review)?Object.values(l).forEach((function(e){var t=document.createElement("li");t.innerHTML="\n          \n          <h3>".concat(e.name,"</h3>\n          <p>").concat(e.comment,'</p>\n          <img src="').concat(e.addPicture,'" class="review-img">\n          \n        '),c.appendChild(t)})):a.innerHTML="",e.next=28;break;case 26:console.warn("culture data not found for ID:",n),r.innerHTML="<p>Data not found</p>";case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(2),console.error("Error fetching culture data:",e.t1.message);case 33:document.getElementById("submitReview").addEventListener("click",function(){var e=Vu(Wu().mark((function e(t){var r,i,o;return Wu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=document.getElementById("reviewerName").value,i=document.getElementById("reviewContent").value,o=document.getElementById("reviewImage").files[0],!r||!i){e.next=20;break}return e.prev=5,e.next=8,ku(n,{name:r,comment:i,reviewImageFile:o});case 8:document.getElementById("reviewerName").value="",document.getElementById("reviewContent").value="",document.getElementById("reviewImage").value="",document.getElementById("uploadedImage").src="",window.location.reload(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),console.error("Error submitting review:",e.t0.message);case 18:e.next=21;break;case 20:alert("Please fill in all required fields.");case 21:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}()),(u=document.getElementById("reviewImage")).addEventListener("change",(function(){var e=document.getElementById("uploadedImage"),t=new FileReader;t.onload=function(){e.src=t.result,e.style.display="block"},t.readAsDataURL(u.files[0])})),(h=document.querySelector(".landing-head"))&&(h.style.display="none"),(d=document.querySelector(".heading"))&&(d.style.display="flex"),document.querySelector("footer").style.display="block";case 43:case"end":return e.stop()}}),e,null,[[2,30],[10,17]])})))()}},"/signin":eh,"/register":oh};function ah(e){return ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(e)}function ch(){ch=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ah(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ah(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function lh(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hh(r.key),r)}}function hh(e){var t=function(e,t){if("object"!=ah(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ah(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ah(t)?t:String(t)}const dh=function(){function e(t){var n=t.button,r=t.drawer,i=t.content;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._button=n,this._drawer=r,this._content=i,this._initialAppShell()}var t,n,r,i;return t=e,n=[{key:"_initialAppShell",value:function(){g.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(r=ch().mark((function e(){var t,n;return ch().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.parseActiveUrlWithCombiner(),n=sh[t],e.next=4,n.render();case 4:return this._content.innerHTML=e.sent,e.next=7,n.afterRender();case 7:document.querySelector(".skip").addEventListener("click",(function(e){e.preventDefault(),document.querySelector("#search").focus()}));case 9:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function s(e){lh(o,n,i,s,a,"next",e)}function a(e){lh(o,n,i,s,a,"throw",e)}s(void 0)}))},function(){return i.apply(this,arguments)})}],n&&uh(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();try{self["workbox:window:7.0.0"]&&_()}catch(ph){}function ph(e,t){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(e){n(e.data)},e.postMessage(t,[r.port2])}))}function fh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gh(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:7.0.0"]&&_()}catch(ph){}var mh=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))};function Ah(e,t){var n=location.href;return new URL(e,n).href===new URL(t,n).href}var vh=function(e,t){this.type=e,Object.assign(this,t)};function yh(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function _h(){}var wh={type:"SKIP_WAITING"};function Ch(e,t){if(!t)return e&&e.then?e.then(_h):Promise.resolve()}var bh=function(e){var t,n;function r(t,n){var r,i;return void 0===n&&(n={}),(r=e.call(this)||this).nn={},r.tn=0,r.rn=new mh,r.en=new mh,r.on=new mh,r.un=0,r.an=new Set,r.cn=function(){var e=r.fn,t=e.installing;r.tn>0||!Ah(t.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=t,e.removeEventListener("updatefound",r.cn)):(r.hn=t,r.an.add(t),r.rn.resolve(t)),++r.tn,t.addEventListener("statechange",r.ln)},r.ln=function(e){var t=r.fn,n=e.target,i=n.state,o=n===r.vn,s={sw:n,isExternal:o,originalEvent:e};!o&&r.mn&&(s.isUpdate=!0),r.dispatchEvent(new vh(i,s)),"installed"===i?r.wn=self.setTimeout((function(){"installed"===i&&t.waiting===n&&r.dispatchEvent(new vh("waiting",s))}),200):"activating"===i&&(clearTimeout(r.wn),o||r.en.resolve(n))},r.dn=function(e){var t=r.hn,n=t!==navigator.serviceWorker.controller;r.dispatchEvent(new vh("controlling",{isExternal:n,originalEvent:e,sw:t,isUpdate:r.mn})),n||r.on.resolve(t)},r.gn=(i=function(e){var t=e.data,n=e.ports,i=e.source;return yh(r.getSW(),(function(){r.an.has(i)&&r.dispatchEvent(new vh("message",{data:t,originalEvent:e,ports:n,sw:i}))}))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(i.apply(this,e))}catch(e){return Promise.reject(e)}}),r.sn=t,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,o=r.prototype;return o.register=function(e){var t=(void 0===e?{}:e).immediate,n=void 0!==t&&t;try{var r=this;return function(e,t){var n=e();return n&&n.then?n.then(t):t()}((function(){if(!n&&"complete"!==document.readyState)return Ch(new Promise((function(e){return window.addEventListener("load",e)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),yh(r.bn(),(function(e){r.fn=e,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var t=r.fn.waiting;return t&&Ah(t.scriptURL,r.sn.toString())&&(r.hn=t,Promise.resolve().then((function(){r.dispatchEvent(new vh("waiting",{sw:t,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(e){return Promise.reject(e)}},o.update=function(){try{return this.fn?Ch(this.fn.update()):void 0}catch(e){return Promise.reject(e)}},o.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(e){try{return yh(this.getSW(),(function(t){return ph(t,e)}))}catch(e){return Promise.reject(e)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&ph(this.fn.waiting,wh)},o.pn=function(){var e=navigator.serviceWorker.controller;return e&&Ah(e.scriptURL,this.sn.toString())?e:void 0},o.bn=function(){try{var e=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return yh(navigator.serviceWorker.register(e.sn,e.nn),(function(t){return e.un=performance.now(),t}))}),(function(e){throw e}))}catch(e){return Promise.reject(e)}},(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,i),r}(function(){function e(){this.Pn=new Map}var t=e.prototype;return t.addEventListener=function(e,t){this.Sn(e).add(t)},t.removeEventListener=function(e,t){this.Sn(e).delete(t)},t.dispatchEvent=function(e){e.target=this;for(var t,n=gh(this.Sn(e.type));!(t=n()).done;)(0,t.value)(e)},t.Sn=function(e){return this.Pn.has(e)||this.Pn.set(e,new Set),this.Pn.get(e)},e}());function Eh(e){return Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(e)}function xh(){xh=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,s=Object.create(o.prototype),a=new S(r||[]);return i(s,"_invoke",{value:I(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function A(){}function v(){}function y(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,C=w&&w(w(P([])));C&&C!==n&&r.call(C,s)&&(_=C);var b=y.prototype=A.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,a){var c=h(e[i],e,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Eh(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(t,n,r){var i=d;return function(o,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=k(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?g:p,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function k(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=h(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Eh(t)+" is not iterable")}return v.prototype=y,i(b,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=l(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},E(x.prototype),l(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new x(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(B),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),B(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;B(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Ih(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}const kh=function(){var e,t=(e=xh().mark((function e(){var t;return xh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator){e.next=3;break}return console.log("Service Worker not supported in the browser"),e.abrupt("return");case 3:return t=new bh("./sw.bundle.js"),e.prev=4,e.next=7,t.register();case 7:console.log("Service worker registered"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("Failed to register service worker",e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Ih(o,r,i,s,a,"next",e)}function a(e){Ih(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}();var Th=new dh({button:document.querySelector("#menu"),drawer:document.querySelector("#draw"),content:document.querySelector("#main-content")});window.addEventListener("hashchange",(function(){Th.renderPage()})),window.addEventListener("load",(function(){Th.renderPage(),kh()}))})()})();
//# sourceMappingURL=app.bundle.js.map